{"version":3,"sources":["../../../js/reports/student_statistics_country.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_reports","_jquery","$","_interopRequireWildcard","_settings","_settings2","_authorization","_authorization2","_error_state","_error_state2","_loading","_loading2","_reactstrap","obj","__esModule","newObj","hasOwnProperty","call","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","makeReportQuery","year","term","get","url","serverURL","beforeSend","data","InternationalStudentStatisticsByCountry","_GenericYearTermRepor","getPrototypeOf","apply","arguments","report","createElement","CountryStudentStatisticsReport","GenericYearTermReport","_Component","_this2","state","countries","error","fetchReport","bind","_this3","setState","done","fail","componentWillReceiveProps","render","_this4","onRetryButtonClick","toString","parseInt","className","ReportHead","ReportTitleContainer","CountryStudentStatisticsTable","EndOfReportIndicator","Component","_Component2","totalGradSchool","totalUnderGradSchool","grandTotal","forEach","country","gradSchool","graduate_students","underGradSchool","undergrad_students","countryTotal","rows","map","index","CountryStudentStatisticsRow","Table","_Component3","percentage","toFixed"],"mappings":"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","file":"student_statistics_country.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reports = require(\"../components/reports\");\n\nvar _jquery = require(\"jquery\");\n\nvar $ = _interopRequireWildcard(_jquery);\n\nvar _settings = require(\"../settings\");\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _authorization = require(\"../authorization\");\n\nvar _authorization2 = _interopRequireDefault(_authorization);\n\nvar _error_state = require(\"../components/error_state\");\n\nvar _error_state2 = _interopRequireDefault(_error_state);\n\nvar _loading = require(\"../components/loading\");\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _reactstrap = require(\"reactstrap\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction makeReportQuery(year, term) {\n    return $.get({\n        url: _settings2.default.serverURL + \"/reports/inbound-statistics-reports/\",\n        beforeSend: _authorization2.default,\n        data: {\n            \"filter\": \"country\",\n            \"academic-year\": year,\n            \"term\": term\n        }\n    });\n}\n\nvar InternationalStudentStatisticsByCountry = function (_GenericYearTermRepor) {\n    _inherits(InternationalStudentStatisticsByCountry, _GenericYearTermRepor);\n\n    function InternationalStudentStatisticsByCountry() {\n        _classCallCheck(this, InternationalStudentStatisticsByCountry);\n\n        return _possibleConstructorReturn(this, (InternationalStudentStatisticsByCountry.__proto__ || Object.getPrototypeOf(InternationalStudentStatisticsByCountry)).apply(this, arguments));\n    }\n\n    _createClass(InternationalStudentStatisticsByCountry, [{\n        key: \"report\",\n        value: function report(year, term) {\n            return _react2.default.createElement(CountryStudentStatisticsReport, { year: year,\n                term: term });\n        }\n    }]);\n\n    return InternationalStudentStatisticsByCountry;\n}(_reports.GenericYearTermReport);\n\nvar CountryStudentStatisticsReport = function (_Component) {\n    _inherits(CountryStudentStatisticsReport, _Component);\n\n    function CountryStudentStatisticsReport(props) {\n        _classCallCheck(this, CountryStudentStatisticsReport);\n\n        var _this2 = _possibleConstructorReturn(this, (CountryStudentStatisticsReport.__proto__ || Object.getPrototypeOf(CountryStudentStatisticsReport)).call(this, props));\n\n        _this2.state = {\n            countries: null,\n            error: null\n        };\n\n        _this2.fetchReport = _this2.fetchReport.bind(_this2);\n        _this2.fetchReport(_this2.props.year, _this2.props.term);\n        return _this2;\n    }\n\n    _createClass(CountryStudentStatisticsReport, [{\n        key: \"fetchReport\",\n        value: function fetchReport(year, term) {\n            var _this3 = this;\n\n            if (this.state.error) {\n                this.setState({\n                    error: null\n                });\n            }\n\n            makeReportQuery(year, term).done(function (countries) {\n                return _this3.setState({\n                    countries: countries\n                });\n            }).fail(function () {\n                return _this3.setState({\n                    error: \"AJAX Error at fetchReport()\"\n                });\n            });\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(props) {\n            this.setState({\n                countries: null\n            });\n\n            this.fetchReport(props.year, props.term);\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this4 = this;\n\n            if (this.state.error) {\n                return _react2.default.createElement(\n                    _error_state2.default,\n                    { onRetryButtonClick: function onRetryButtonClick() {\n                            return _this4.fetchReport(_this4.props.year, _this4.props.term);\n                        } },\n                    this.state.error.toString()\n                );\n            }\n\n            if (this.state.countries === null) {\n                return _react2.default.createElement(_loading2.default, null);\n            }\n\n            var year = parseInt(this.props.year);\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"report-page\" },\n                _react2.default.createElement(_reports.ReportHead, null),\n                _react2.default.createElement(\n                    _reports.ReportTitleContainer,\n                    null,\n                    _react2.default.createElement(\n                        \"h4\",\n                        null,\n                        \"Distribution of International Students (IS) by Country\"\n                    ),\n                    _react2.default.createElement(\n                        \"h5\",\n                        null,\n                        \"Academic Year \" + year + \" - \" + (year + 1) + \" Term \" + this.props.term\n                    )\n                ),\n                _react2.default.createElement(CountryStudentStatisticsTable, { countries: this.state.countries }),\n                _react2.default.createElement(_reports.EndOfReportIndicator, null)\n            );\n        }\n    }]);\n\n    return CountryStudentStatisticsReport;\n}(_react.Component);\n\nvar CountryStudentStatisticsTable = function (_Component2) {\n    _inherits(CountryStudentStatisticsTable, _Component2);\n\n    function CountryStudentStatisticsTable() {\n        _classCallCheck(this, CountryStudentStatisticsTable);\n\n        return _possibleConstructorReturn(this, (CountryStudentStatisticsTable.__proto__ || Object.getPrototypeOf(CountryStudentStatisticsTable)).apply(this, arguments));\n    }\n\n    _createClass(CountryStudentStatisticsTable, [{\n        key: \"render\",\n        value: function render() {\n            var totalGradSchool = 0;\n            var totalUnderGradSchool = 0;\n            var grandTotal = 0;\n\n            this.props.countries.forEach(function (country) {\n                var gradSchool = country.graduate_students;\n                var underGradSchool = country.undergrad_students;\n                var countryTotal = gradSchool + underGradSchool;\n\n                totalGradSchool += gradSchool;\n                totalUnderGradSchool += underGradSchool;\n                grandTotal += countryTotal;\n            });\n\n            var rows = this.props.countries.map(function (country, index) {\n                return _react2.default.createElement(CountryStudentStatisticsRow, { country: country,\n                    grandTotal: grandTotal });\n            });\n\n            return _react2.default.createElement(\n                _reactstrap.Table,\n                null,\n                _react2.default.createElement(\n                    \"thead\",\n                    null,\n                    _react2.default.createElement(\n                        \"tr\",\n                        { className: \"text-center\" },\n                        _react2.default.createElement(\n                            \"th\",\n                            null,\n                            \"Country\"\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            null,\n                            \"Graduate Students\"\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            null,\n                            \"Undergraduate Students\"\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            null,\n                            \"Total Students\"\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            null,\n                            \"Percentage to Total IS\"\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    \"tbody\",\n                    null,\n                    rows\n                ),\n                _react2.default.createElement(\n                    \"tfoot\",\n                    { className: \"text-right\" },\n                    _react2.default.createElement(\n                        \"tr\",\n                        null,\n                        _react2.default.createElement(\n                            \"th\",\n                            null,\n                            \"Total\"\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            { className: \"numeric\" },\n                            totalGradSchool\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            { className: \"numeric\" },\n                            totalUnderGradSchool\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            { className: \"numeric\" },\n                            grandTotal\n                        ),\n                        _react2.default.createElement(\n                            \"th\",\n                            { className: \"numeric\" },\n                            \"100%\"\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CountryStudentStatisticsTable;\n}(_react.Component);\n\nvar CountryStudentStatisticsRow = function (_Component3) {\n    _inherits(CountryStudentStatisticsRow, _Component3);\n\n    function CountryStudentStatisticsRow() {\n        _classCallCheck(this, CountryStudentStatisticsRow);\n\n        return _possibleConstructorReturn(this, (CountryStudentStatisticsRow.__proto__ || Object.getPrototypeOf(CountryStudentStatisticsRow)).apply(this, arguments));\n    }\n\n    _createClass(CountryStudentStatisticsRow, [{\n        key: \"render\",\n        value: function render() {\n            var gradSchool = this.props.country.graduate_students;\n            var underGradSchool = this.props.country.undergrad_students;\n            var countryTotal = gradSchool + underGradSchool;\n\n            var percentage = 0;\n\n            if (this.props.grandTotal !== 0) {\n                percentage = (countryTotal * 100 / this.props.grandTotal).toFixed(1);\n            }\n\n            return _react2.default.createElement(\n                \"tr\",\n                null,\n                _react2.default.createElement(\n                    \"td\",\n                    null,\n                    this.props.country.country\n                ),\n                _react2.default.createElement(\n                    \"td\",\n                    { className: \"numeric text-right\" },\n                    gradSchool\n                ),\n                _react2.default.createElement(\n                    \"td\",\n                    { className: \"numeric text-right\" },\n                    underGradSchool\n                ),\n                _react2.default.createElement(\n                    \"td\",\n                    { className: \"numeric text-right\" },\n                    countryTotal\n                ),\n                _react2.default.createElement(\n                    \"td\",\n                    { className: \"numeric text-right\" },\n                    percentage,\n                    \"%\"\n                )\n            );\n        }\n    }]);\n\n    return CountryStudentStatisticsRow;\n}(_react.Component);\n\nexports.default = InternationalStudentStatisticsByCountry;\n//# sourceMappingURL=student_statistics_country.js.map"]}