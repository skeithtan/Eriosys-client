{"version":3,"sources":["../../js/sign_in.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_app","_app2","_form_validator","_form_validator2","_lokkaTransportHttp","_settings","_settings2","_graphql","_graphql2","_reactstrap","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","SignIn","_Component","_this","getPrototypeOf","state","isSignedIn","showing","invalidCredentials","loading","form","username","password","signOut","bind","signInPage","attemptSignIn","getFormErrors","setTimeout","signedIn","localStorage","token","undefined","setState","_this2","clear","getChangeHandler","fieldName","_this3","event","_this4","$","post","url","serverURL","data","done","response","find","val","headers","_transport","Transport","fail","console","log","status","alert","name","characterLimit","customValidators","isValid","fieldValue","indexOf","errorMessage","_this5","_getFormErrors","formHasErrors","fieldErrors","complaint","handleEnterKeypress","createElement","id","className","src","SignInSpinner","Input","placeholder","onChange","onKeyPress","defaultValue","type","Button","outline","color","disabled","onClick","render","Component","_Component2"],"mappings":"AAAA;;;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;;AAIA,IAAIC,eAAe,YAAY;AAAE,aAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,MAAME,MAA1B,EAAkCD,GAAlC,EAAuC;AAAE,gBAAIE,aAAaH,MAAMC,CAAN,CAAjB,CAA2BE,WAAWC,UAAX,GAAwBD,WAAWC,UAAX,IAAyB,KAAjD,CAAwDD,WAAWE,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWF,UAAf,EAA2BA,WAAWG,QAAX,GAAsB,IAAtB,CAA4Bb,OAAOC,cAAP,CAAsBK,MAAtB,EAA8BI,WAAWI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE,KAAC,OAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,YAAID,UAAJ,EAAgBX,iBAAiBU,YAAYG,SAA7B,EAAwCF,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBZ,iBAAiBU,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,KAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,SAASC,QAAQ,OAAR,CAAb;;AAEA,IAAIC,UAAUC,uBAAuBH,MAAvB,CAAd;;AAEA,IAAII,OAAOH,QAAQ,OAAR,CAAX;;AAEA,IAAII,QAAQF,uBAAuBC,IAAvB,CAAZ;;AAEA,IAAIE,kBAAkBL,QAAQ,kBAAR,CAAtB;;AAEA,IAAIM,mBAAmBJ,uBAAuBG,eAAvB,CAAvB;;AAEA,IAAIE,sBAAsBP,QAAQ,sBAAR,CAA1B;;AAEA,IAAIQ,YAAYR,QAAQ,YAAR,CAAhB;;AAEA,IAAIS,aAAaP,uBAAuBM,SAAvB,CAAjB;;AAEA,IAAIE,WAAWV,QAAQ,WAAR,CAAf;;AAEA,IAAIW,YAAYT,uBAAuBQ,QAAvB,CAAhB;;AAEA,IAAIE,cAAcZ,QAAQ,YAAR,CAAlB;;AAEA,SAASE,sBAAT,CAAgCW,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F,SAASG,eAAT,CAAyBC,QAAzB,EAAmCtB,WAAnC,EAAgD;AAAE,QAAI,EAAEsB,oBAAoBtB,WAAtB,CAAJ,EAAwC;AAAE,cAAM,IAAIuB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;AAAE,QAAI,CAACD,IAAL,EAAW;AAAE,cAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,KAAC,OAAOD,SAAS,QAAOA,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0ED,IAAjF;AAAwF;;AAEhP,SAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,QAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,cAAM,IAAIP,SAAJ,CAAc,qEAAoEO,UAApE,yCAAoEA,UAApE,EAAd,CAAN;AAAsG,KAACD,SAAS1B,SAAT,GAAqBlB,OAAO8C,MAAP,CAAcD,cAAcA,WAAW3B,SAAvC,EAAkD,EAAE6B,aAAa,EAAE5C,OAAOyC,QAAT,EAAmBjC,YAAY,KAA/B,EAAsCE,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIiC,UAAJ,EAAgB7C,OAAOgD,cAAP,GAAwBhD,OAAOgD,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASK,SAAT,GAAqBJ,UAA3F;AAAwG;;AAE9e,IAAIK,SAAS,UAAUC,UAAV,EAAsB;AAC/BR,cAAUO,MAAV,EAAkBC,UAAlB;;AAEA,aAASD,MAAT,CAAgB3C,KAAhB,EAAuB;AACnB6B,wBAAgB,IAAhB,EAAsBc,MAAtB;;AAEA,YAAIE,QAAQb,2BAA2B,IAA3B,EAAiC,CAACW,OAAOD,SAAP,IAAoBjD,OAAOqD,cAAP,CAAsBH,MAAtB,CAArB,EAAoDT,IAApD,CAAyD,IAAzD,EAA+DlC,KAA/D,CAAjC,CAAZ;;AAEA6C,cAAME,KAAN,GAAc;AACVC,wBAAY,KADF;AAEVC,qBAAS,IAFC;AAGVC,gCAAoB,KAHV;AAIVC,qBAAS,IAJC;AAKVC,kBAAM;AACFC,0BAAU,EADR;AAEFC,0BAAU;AAFR;AALI,SAAd;;AAWAT,cAAMU,OAAN,GAAgBV,MAAMU,OAAN,CAAcC,IAAd,CAAmBX,KAAnB,CAAhB;AACAA,cAAMY,UAAN,GAAmBZ,MAAMY,UAAN,CAAiBD,IAAjB,CAAsBX,KAAtB,CAAnB;AACAA,cAAMa,aAAN,GAAsBb,MAAMa,aAAN,CAAoBF,IAApB,CAAyBX,KAAzB,CAAtB;AACAA,cAAMc,aAAN,GAAsBd,MAAMc,aAAN,CAAoBH,IAApB,CAAyBX,KAAzB,CAAtB;;AAEA;AACAe,mBAAW,YAAY;AACnB,gBAAIC,WAAWC,aAAaC,KAAb,KAAuBC,SAAtC;AACAnB,kBAAMoB,QAAN,CAAe;AACXd,yBAAS,KADE;AAEXH,4BAAYa,QAFD;AAGXZ,yBAAS,CAACY;AAHC,aAAf;AAKH,SAPD,EAOG,GAPH;AAQA,eAAOhB,KAAP;AACH;;AAEDhD,iBAAa8C,MAAb,EAAqB,CAAC;AAClBpC,aAAK,SADa;AAElBX,eAAO,SAAS2D,OAAT,GAAmB;AACtB,gBAAIW,SAAS,IAAb;;AAEAJ,yBAAaK,KAAb;;AAEA,iBAAKF,QAAL,CAAc;AACVhB,yBAAS,IADC;AAEVE,yBAAS;AAFC,aAAd;;AAKAS,uBAAW,YAAY;AACnBM,uBAAOD,QAAP,CAAgB;AACZjB,gCAAY,KADA;AAEZG,6BAAS;AAFG,iBAAhB;AAIH,aALD,EAKG,GALH;AAMH;AAlBiB,KAAD,EAmBlB;AACC5C,aAAK,kBADN;AAECX,eAAO,SAASwE,gBAAT,CAA0BC,SAA1B,EAAqC;AACxC,gBAAIC,SAAS,IAAb;;AAEA,gBAAIlB,OAAO,KAAKL,KAAL,CAAWK,IAAtB;AACA,mBAAO,UAAUmB,KAAV,EAAiB;AACpBnB,qBAAKiB,SAAL,IAAkBE,MAAMxE,MAAN,CAAaH,KAA/B;AACA0E,uBAAOL,QAAP,CAAgB;AACZf,wCAAoB,KADR,EACe;AAC3BE,0BAAMA;AAFM,iBAAhB;AAIH,aAND;AAOH;AAbF,KAnBkB,EAiClB;AACC7C,aAAK,eADN;AAECX,eAAO,SAAS8D,aAAT,GAAyB;AAC5B,gBAAIc,SAAS,IAAb;;AAEA,iBAAKP,QAAL,CAAc;AACVd,yBAAS;AADC,aAAd;;AAIAsB,cAAEC,IAAF,CAAO;AACHC,qBAAKrD,WAAWM,OAAX,CAAmBgD,SAAnB,GAA+B,WADjC;AAEHC,sBAAM,KAAK9B,KAAL,CAAWK;AAFd,aAAP,EAGG0B,IAHH,CAGQ,UAAUC,QAAV,EAAoB;AACxBN,kBAAE,UAAF,EAAcO,IAAd,CAAmB,OAAnB,EAA4BC,GAA5B,CAAgC,EAAhC;AACAnB,6BAAaC,KAAb,GAAqBgB,SAAShB,KAA9B;AACAD,6BAAaT,QAAb,GAAwB0B,SAAS1B,QAAjC;;AAEA,oBAAI6B,UAAU,EAAE,iBAAiB,WAAWpB,aAAaC,KAA3C,EAAd;AACA;AACAvC,0BAAUI,OAAV,CAAkBuD,UAAlB,GAA+B,IAAI/D,oBAAoBgE,SAAxB,CAAkC9D,WAAWM,OAAX,CAAmBgD,SAAnB,GAA+B,WAAjE,EAA8E,EAAEM,SAASA,OAAX,EAA9E,CAA/B;;AAEAtB,2BAAW,YAAY;AACnBY,2BAAOP,QAAP,CAAgB;AACZjB,oCAAY,IADA;AAEZG,iCAAS,KAFG;AAGZF,iCAAS,KAHG;AAIZG,8BAAM;AACFC,sCAAU,EADR;AAEFC,sCAAU,EAFR,CAEW;AAFX;AAJM,qBAAhB;AASH,iBAVD,EAUG,GAVH;AAWH,aAvBD,EAuBG+B,IAvBH,CAuBQ,UAAUN,QAAV,EAAoB;AACxBO,wBAAQC,GAAR,CAAYR,QAAZ;;AAEA,oBAAIA,SAASS,MAAT,KAAoB,GAAxB,EAA6B;AACzBhB,2BAAOP,QAAP,CAAgB;AACZf,4CAAoB,IADR;AAEZC,iCAAS;AAFG,qBAAhB;AAIA;AACH;;AAEDsC,sBAAM,6CAAN;AACAjB,uBAAOP,QAAP,CAAgB;AACZd,6BAAS;AADG,iBAAhB;AAGH,aAtCD;AAuCH;AAhDF,KAjCkB,EAkFlB;AACC5C,aAAK,eADN;AAECX,eAAO,SAAS+D,aAAT,GAAyB;AAC5B,mBAAO,CAAC,GAAGxC,iBAAiBS,OAArB,EAA8B,CAAC;AAClC8D,sBAAM,UAD4B;AAElCC,gCAAgB,EAFkB;AAGlC/F,uBAAO,KAAKmD,KAAL,CAAWK,IAAX,CAAgBC,QAHW;AAIlCuC,kCAAkB,CAAC;AACfC,6BAAS,SAASA,OAAT,CAAiBC,UAAjB,EAA6B;AAClC,+BAAOA,WAAWC,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAApC;AACH,qBAHc;AAIfC,kCAAc,SAASA,YAAT,CAAsB3B,SAAtB,EAAiC;AAC3C,+BAAOA,YAAY,8BAAnB;AACH;AANc,iBAAD;AAJgB,aAAD,EAYlC;AACCqB,sBAAM,UADP;AAECC,gCAAgB,IAFjB;AAGC/F,uBAAO,KAAKmD,KAAL,CAAWK,IAAX,CAAgBE;AAHxB,aAZkC,CAA9B,CAAP;AAiBH;AApBF,KAlFkB,EAuGlB;AACC/C,aAAK,YADN;AAECX,eAAO,SAAS6D,UAAT,GAAsB;AACzB,gBAAIwC,SAAS,IAAb;;AAEA,gBAAIC,iBAAiB,KAAKvC,aAAL,EAArB;AAAA,gBACIwC,gBAAgBD,eAAeC,aADnC;AAAA,gBAEIC,cAAcF,eAAeE,WAFjC;;AAIA,gBAAIC,YAAY,IAAhB;;AAEA,gBAAIF,aAAJ,EAAmB;AACf,oBAAIC,YAAY,UAAZ,EAAwBlG,MAAxB,GAAiC,CAArC,EAAwC;AACpCmG,gCAAYD,YAAY,UAAZ,EAAwB,CAAxB,CAAZ;AACH;;AAED,oBAAIA,YAAY,UAAZ,EAAwBlG,MAAxB,GAAiC,CAArC,EAAwC;AACpCmG,gCAAYD,YAAY,UAAZ,EAAwB,CAAxB,CAAZ;AACH;AACJ;;AAED,gBAAI,KAAKrD,KAAL,CAAWG,kBAAf,EAAmC;AAC/BmD,4BAAY,qBAAZ;AACH;;AAED,gBAAIC,sBAAsB,SAASA,mBAAT,CAA6B/B,KAA7B,EAAoC;AAC1D,oBAAIA,MAAMhE,GAAN,KAAc,OAAd,IAAyB,CAAC4F,aAA9B,EAA6C;AACzCF,2BAAOvC,aAAP;AACH;AACJ,aAJD;;AAMA,mBAAO5C,QAAQc,OAAR,CAAgB2E,aAAhB,CACH,KADG,EAEH,EAAEC,IAAI,SAAN;AACIC,2BAAW,2FAA2F,KAAK1D,KAAL,CAAWE,OAAX,GAAqB,SAArB,GAAiC,QAA5H,CADf,EAFG,EAIHnC,QAAQc,OAAR,CAAgB2E,aAAhB,CACI,KADJ,EAEI,EAAEC,IAAI,kBAAN;AACIC,2BAAW,mEAAmE,KAAK1D,KAAL,CAAWE,OAAX,GAAqB,YAArB,GAAoC,WAAvG,CADf,EAFJ,EAIInC,QAAQc,OAAR,CAAgB2E,aAAhB,CACI,KADJ,EAEI,EAAEC,IAAI,UAAN,EAAkBC,WAAW,yCAA7B,EAFJ,EAGI3F,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8B,KAA9B,EAAqC,EAAEG,KAAK,yBAAP,EAAkCD,WAAW,gBAA7C,EAArC,CAHJ,EAII3F,QAAQc,OAAR,CAAgB2E,aAAhB,CACI,IADJ,EAEI,EAAEC,IAAI,WAAN,EAAmBC,WAAW,YAA9B,EAFJ,EAGI,oDAHJ,CAJJ,CAJJ,EAcI3F,QAAQc,OAAR,CAAgB2E,aAAhB,CACI,KADJ,EAEI,EAAEE,WAAW,wDAAb,EAFJ,EAGI3F,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8BI,aAA9B,EAA6C,EAAEF,WAAW,KAAK1D,KAAL,CAAWI,OAAX,GAAqB,SAArB,GAAiC,QAA9C,EAA7C,CAHJ,EAIIrC,QAAQc,OAAR,CAAgB2E,aAAhB,CACI,KADJ,EAEI,EAAEC,IAAI,aAAN,EAAqBC,WAAW,mDAAmD,KAAK1D,KAAL,CAAWI,OAAX,IAAsB,KAAKJ,KAAL,CAAWC,UAAjC,GAA8C,QAA9C,GAAyD,SAA5G,IAAyH,oCAAzH,IAAiK,KAAKD,KAAL,CAAWG,kBAAX,GAAgC,SAAhC,GAA4C,EAA7M,CAAhC,EAFJ,EAGImD,cAAc,IAAd,IAAsBvF,QAAQc,OAAR,CAAgB2E,aAAhB,CAClB,GADkB,EAElB,EAAEE,WAAW,6BAAb,EAFkB,EAGlBJ,SAHkB,CAH1B,EAQIvF,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8B9E,YAAYmF,KAA1C,EAAiD,EAAEH,WAAW,0CAAb;AAC7CI,6BAAa,UADgC,EACpBC,UAAU,KAAK1C,gBAAL,CAAsB,UAAtB,CADU;AAE7C2C,4BAAYT,mBAFiC;AAG7CU,8BAAc,KAAKjE,KAAL,CAAWK,IAAX,CAAgBC,QAHe,EAAjD,CARJ,EAYIvC,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8B9E,YAAYmF,KAA1C,EAAiD,EAAEK,MAAM,UAAR,EAAoBR,WAAW,0CAA/B;AAC7CI,6BAAa,UADgC,EACpBC,UAAU,KAAK1C,gBAAL,CAAsB,UAAtB,CADU;AAE7C2C,4BAAYT,mBAFiC;AAG7CU,8BAAc,KAAKjE,KAAL,CAAWK,IAAX,CAAgBE,QAHe,EAAjD,CAZJ,EAgBIxC,QAAQc,OAAR,CAAgB2E,aAAhB,CACI9E,YAAYyF,MADhB,EAEI,EAAEC,SAAS,IAAX,EAAiBC,OAAO,OAAxB,EAAiCC,UAAUlB,aAA3C,EAA0DmB,SAAS,KAAK5D,aAAxE,EAFJ,EAGI,SAHJ,CAhBJ,CAJJ,CAdJ,CAJG,CAAP;AA+CH;AA9EF,KAvGkB,EAsLlB;AACCnD,aAAK,QADN;AAECX,eAAO,SAAS2H,MAAT,GAAkB;AACrB,mBAAOzG,QAAQc,OAAR,CAAgB2E,aAAhB,CACH,KADG,EAEH,IAFG,EAGH,KAAK9C,UAAL,EAHG,EAIH,KAAKV,KAAL,CAAWC,UAAX,IAAyBlC,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8BtF,MAAMW,OAApC,EAA6C,EAAE2B,SAAS,KAAKA,OAAhB,EAA7C,CAJtB,CAAP;AAMH;AATF,KAtLkB,CAArB;;AAkMA,WAAOZ,MAAP;AACH,CAvOY,CAuOX/B,OAAO4G,SAvOI,CAAb;;AAyOA,IAAIb,gBAAgB,UAAUc,WAAV,EAAuB;AACvCrF,cAAUuE,aAAV,EAAyBc,WAAzB;;AAEA,aAASd,aAAT,CAAuB3G,KAAvB,EAA8B;AAC1B6B,wBAAgB,IAAhB,EAAsB8E,aAAtB;;AAEA,eAAO3E,2BAA2B,IAA3B,EAAiC,CAAC2E,cAAcjE,SAAd,IAA2BjD,OAAOqD,cAAP,CAAsB6D,aAAtB,CAA5B,EAAkEzE,IAAlE,CAAuE,IAAvE,EAA6ElC,KAA7E,CAAjC,CAAP;AACH;;AAEDH,iBAAa8G,aAAb,EAA4B,CAAC;AACzBpG,aAAK,QADoB;AAEzBX,eAAO,SAAS2H,MAAT,GAAkB;AACrB,mBAAOzG,QAAQc,OAAR,CAAgB2E,aAAhB,CACH,KADG,EAEH,EAAEC,IAAI,iBAAN,EAAyBC,WAAW,KAAKzG,KAAL,CAAWyG,SAA/C,EAFG,EAGH3F,QAAQc,OAAR,CAAgB2E,aAAhB,CACI,KADJ,EAEI,EAAEE,WAAW,kCAAb,EAFJ,EAGI3F,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8B,KAA9B,EAAqC,EAAEE,WAAW,SAAb,EAArC,CAHJ,EAII3F,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8B,KAA9B,EAAqC,EAAEE,WAAW,SAAb,EAArC,CAJJ,EAKI3F,QAAQc,OAAR,CAAgB2E,aAAhB,CAA8B,KAA9B,EAAqC,EAAEE,WAAW,SAAb,EAArC,CALJ,CAHG,CAAP;AAWH;AAdwB,KAAD,CAA5B;;AAiBA,WAAOE,aAAP;AACH,CA3BmB,CA2BlB/F,OAAO4G,SA3BW,CAApB;;AA6BA7H,QAAQiC,OAAR,GAAkBe,MAAlB;AACA","file":"sign_in.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _app = require(\"./app\");\n\nvar _app2 = _interopRequireDefault(_app);\n\nvar _form_validator = require(\"./form_validator\");\n\nvar _form_validator2 = _interopRequireDefault(_form_validator);\n\nvar _lokkaTransportHttp = require(\"lokka-transport-http\");\n\nvar _settings = require(\"./settings\");\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _graphql = require(\"./graphql\");\n\nvar _graphql2 = _interopRequireDefault(_graphql);\n\nvar _reactstrap = require(\"reactstrap\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SignIn = function (_Component) {\n    _inherits(SignIn, _Component);\n\n    function SignIn(props) {\n        _classCallCheck(this, SignIn);\n\n        var _this = _possibleConstructorReturn(this, (SignIn.__proto__ || Object.getPrototypeOf(SignIn)).call(this, props));\n\n        _this.state = {\n            isSignedIn: false,\n            showing: true,\n            invalidCredentials: false,\n            loading: true,\n            form: {\n                username: \"\",\n                password: \"\"\n            }\n        };\n\n        _this.signOut = _this.signOut.bind(_this);\n        _this.signInPage = _this.signInPage.bind(_this);\n        _this.attemptSignIn = _this.attemptSignIn.bind(_this);\n        _this.getFormErrors = _this.getFormErrors.bind(_this);\n\n        // Fake initial loading\n        setTimeout(function () {\n            var signedIn = localStorage.token !== undefined;\n            _this.setState({\n                loading: false,\n                isSignedIn: signedIn,\n                showing: !signedIn\n            });\n        }, 700);\n        return _this;\n    }\n\n    _createClass(SignIn, [{\n        key: \"signOut\",\n        value: function signOut() {\n            var _this2 = this;\n\n            localStorage.clear();\n\n            this.setState({\n                showing: true,\n                loading: true\n            });\n\n            setTimeout(function () {\n                _this2.setState({\n                    isSignedIn: false,\n                    loading: false\n                });\n            }, 500);\n        }\n    }, {\n        key: \"getChangeHandler\",\n        value: function getChangeHandler(fieldName) {\n            var _this3 = this;\n\n            var form = this.state.form;\n            return function (event) {\n                form[fieldName] = event.target.value;\n                _this3.setState({\n                    invalidCredentials: false, //Remove invalid credentials on retry\n                    form: form\n                });\n            };\n        }\n    }, {\n        key: \"attemptSignIn\",\n        value: function attemptSignIn() {\n            var _this4 = this;\n\n            this.setState({\n                loading: true\n            });\n\n            $.post({\n                url: _settings2.default.serverURL + \"/sign-in/\",\n                data: this.state.form\n            }).done(function (response) {\n                $(\"#sign-in\").find(\"input\").val(\"\");\n                localStorage.token = response.token;\n                localStorage.username = response.username;\n\n                var headers = { \"Authorization\": \"Token \" + localStorage.token };\n                // Add headers to transport\n                _graphql2.default._transport = new _lokkaTransportHttp.Transport(_settings2.default.serverURL + \"/graphql/\", { headers: headers });\n\n                setTimeout(function () {\n                    _this4.setState({\n                        isSignedIn: true,\n                        loading: false,\n                        showing: false,\n                        form: {\n                            username: \"\",\n                            password: \"\" //Reset fields\n                        }\n                    });\n                }, 700);\n            }).fail(function (response) {\n                console.log(response);\n\n                if (response.status === 401) {\n                    _this4.setState({\n                        invalidCredentials: true,\n                        loading: false\n                    });\n                    return;\n                }\n\n                alert(\"An error occurred connecting to the server.\");\n                _this4.setState({\n                    loading: false\n                });\n            });\n        }\n    }, {\n        key: \"getFormErrors\",\n        value: function getFormErrors() {\n            return (0, _form_validator2.default)([{\n                name: \"Username\",\n                characterLimit: 30,\n                value: this.state.form.username,\n                customValidators: [{\n                    isValid: function isValid(fieldValue) {\n                        return fieldValue.indexOf(\" \") === -1;\n                    },\n                    errorMessage: function errorMessage(fieldName) {\n                        return fieldName + \" should not have whitespaces\";\n                    }\n                }]\n            }, {\n                name: \"Password\",\n                characterLimit: null,\n                value: this.state.form.password\n            }]);\n        }\n    }, {\n        key: \"signInPage\",\n        value: function signInPage() {\n            var _this5 = this;\n\n            var _getFormErrors = this.getFormErrors(),\n                formHasErrors = _getFormErrors.formHasErrors,\n                fieldErrors = _getFormErrors.fieldErrors;\n\n            var complaint = null;\n\n            if (formHasErrors) {\n                if (fieldErrors[\"Password\"].length > 0) {\n                    complaint = fieldErrors[\"Password\"][0];\n                }\n\n                if (fieldErrors[\"Username\"].length > 0) {\n                    complaint = fieldErrors[\"Username\"][0];\n                }\n            }\n\n            if (this.state.invalidCredentials) {\n                complaint = \"Invalid Credentials\";\n            }\n\n            var handleEnterKeypress = function handleEnterKeypress(event) {\n                if (event.key === \"Enter\" && !formHasErrors) {\n                    _this5.attemptSignIn();\n                }\n            };\n\n            return _react2.default.createElement(\n                \"div\",\n                { id: \"sign-in\",\n                    className: \"bg-dlsu h-100 w-100 p-5 d-flex flex-column justify-content-center align-items-center \" + (this.state.showing ? \"showing\" : \"hidden\") },\n                _react2.default.createElement(\n                    \"div\",\n                    { id: \"sign-in-contents\",\n                        className: \"d-flex flex-column justify-content-center align-items-center \" + (this.state.showing ? \"signed-out\" : \"signed-in\") },\n                    _react2.default.createElement(\n                        \"div\",\n                        { id: \"logo-set\", className: \"d-flex flex-row align-items-center mb-3\" },\n                        _react2.default.createElement(\"img\", { src: \"./images/dlsu_white.png\", className: \"mr-5 dlsu-logo\" }),\n                        _react2.default.createElement(\n                            \"h1\",\n                            { id: \"erio-logo\", className: \"text-white\" },\n                            \"External Relations and Internationalization Office\"\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"d-flex align-items-center justify-content-between mt-5\" },\n                        _react2.default.createElement(SignInSpinner, { className: this.state.loading ? \"showing\" : \"hidden\" }),\n                        _react2.default.createElement(\n                            \"div\",\n                            { id: \"sign-in-box\", className: \"flex-column\\n                                \" + (this.state.loading || this.state.isSignedIn ? \"hidden\" : \"showing\") + \"\\n                                \" + (this.state.invalidCredentials ? \"shaking\" : \"\") },\n                            complaint !== null && _react2.default.createElement(\n                                \"p\",\n                                { className: \"mb-3 text-center text-white\" },\n                                complaint\n                            ),\n                            _react2.default.createElement(_reactstrap.Input, { className: \"bg-dlsu-lighter text-white border-0 mb-3\",\n                                placeholder: \"Username\", onChange: this.getChangeHandler(\"username\"),\n                                onKeyPress: handleEnterKeypress,\n                                defaultValue: this.state.form.username }),\n                            _react2.default.createElement(_reactstrap.Input, { type: \"password\", className: \"bg-dlsu-lighter text-white border-0 mb-3\",\n                                placeholder: \"Password\", onChange: this.getChangeHandler(\"password\"),\n                                onKeyPress: handleEnterKeypress,\n                                defaultValue: this.state.form.password }),\n                            _react2.default.createElement(\n                                _reactstrap.Button,\n                                { outline: true, color: \"light\", disabled: formHasErrors, onClick: this.attemptSignIn },\n                                \"Sign in\"\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                null,\n                this.signInPage(),\n                this.state.isSignedIn && _react2.default.createElement(_app2.default, { signOut: this.signOut })\n            );\n        }\n    }]);\n\n    return SignIn;\n}(_react.Component);\n\nvar SignInSpinner = function (_Component2) {\n    _inherits(SignInSpinner, _Component2);\n\n    function SignInSpinner(props) {\n        _classCallCheck(this, SignInSpinner);\n\n        return _possibleConstructorReturn(this, (SignInSpinner.__proto__ || Object.getPrototypeOf(SignInSpinner)).call(this, props));\n    }\n\n    _createClass(SignInSpinner, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { id: \"sign-in-spinner\", className: this.props.className },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"spinner spinner-white spinner-lg\" },\n                    _react2.default.createElement(\"div\", { className: \"bounce1\" }),\n                    _react2.default.createElement(\"div\", { className: \"bounce2\" }),\n                    _react2.default.createElement(\"div\", { className: \"bounce3\" })\n                )\n            );\n        }\n    }]);\n\n    return SignInSpinner;\n}(_react.Component);\n\nexports.default = SignIn;\n//# sourceMappingURL=sign_in.js.map"]}