{"version":3,"sources":["../../../../../js/tabs/Institutions/tabs/overview.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_loading","_loading2","_graphql","_graphql2","_reactstrap","_modals","_section","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","fetchInstitution","id","onResponse","query","InstitutionOverview","_Component","_this","getPrototypeOf","state","institution","institutionID","setSidebarContent","onEditInstitution","bind","response","data","country","name","setState","componentWillReceiveProps","nextProps","_this2","_this3","refreshInstitutions","render","createElement","className","OverviewHead","onDeleteInstitution","onDeleteActiveInstitution","OverviewBody","Component","_Component2","_this4","deleteInstitutionIsShowing","editInstitutionIsShowing","toggleEditInstitution","toggleDeleteInstitution","Button","outline","size","color","onClick","DeleteInstitutionModal","isOpen","toggle","refresh","InstitutionFormModal","edit","_Component3","InstitutionDetails","ContactDetails","_Component4","agreementType","agreement","website","openWebsite","_require","shell","openExternal","Section","SectionTitle","SectionTable","SectionRow","SectionRowTitle","SectionRowContent","large","address","_Component5","noContactDetails","contact_person_number","contact_person_name","contact_person_email"],"mappings":"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","file":"overview.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loading = require(\"../../../loading\");\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _graphql = require(\"../../../graphql\");\n\nvar _graphql2 = _interopRequireDefault(_graphql);\n\nvar _reactstrap = require(\"reactstrap\");\n\nvar _modals = require(\"../modals\");\n\nvar _section = require(\"../../../components/section\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction fetchInstitution(id, onResponse) {\n    (0, _graphql2.default)({\n        query: \"\\n        {\\n            institution(id:\" + id + \") {\\n                id\\n                name\\n                address\\n                website\\n                contact_person_email\\n                contact_person_name\\n                contact_person_number\\n                country {\\n                    name\\n                }\\n                agreement\\n            }\\n        }\\n       \",\n        onResponse: onResponse\n    });\n}\n\nvar InstitutionOverview = function (_Component) {\n    _inherits(InstitutionOverview, _Component);\n\n    function InstitutionOverview(props) {\n        _classCallCheck(this, InstitutionOverview);\n\n        var _this = _possibleConstructorReturn(this, (InstitutionOverview.__proto__ || Object.getPrototypeOf(InstitutionOverview)).call(this, props));\n\n        _this.state = {\n            institution: null,\n            institutionID: props.institution.id\n        };\n\n        _this.props.setSidebarContent(null);\n\n        _this.onEditInstitution = _this.onEditInstitution.bind(_this);\n\n        //Fetch active institution details\n        fetchInstitution(props.institution.id, function (response) {\n            var institution = response.data.institution;\n\n            //Make country = country.name for simplicity\n            institution.country = institution.country.name;\n\n            _this.setState({\n                institution: institution\n            });\n        });\n        return _this;\n    }\n\n    _createClass(InstitutionOverview, [{\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            var _this2 = this;\n\n            this.setState({\n                institutionID: nextProps.institution.id,\n                institution: null\n            });\n\n            fetchInstitution(nextProps.institution.id, function (response) {\n                var institution = response.data.institution;\n\n                //Make country = country.name for simplicity\n                institution.country = institution.country.name;\n\n                _this2.setState({\n                    institution: institution\n                });\n            });\n        }\n    }, {\n        key: \"onEditInstitution\",\n        value: function onEditInstitution() {\n            var _this3 = this;\n\n            //Refresh and fetch new data from server\n            this.setState({\n                institution: null\n            });\n\n            fetchInstitution(this.state.institutionID, function (response) {\n                var institution = response.data.institution;\n\n                //Make country = country.name for simplicity\n                institution.country = institution.country.name;\n\n                _this3.setState({\n                    institution: institution\n                });\n\n                _this3.props.refreshInstitutions();\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            //User has already selected, but we haven't fetched it from the database yet\n            if (this.state.institution === null) {\n                return _react2.default.createElement(_loading2.default, null);\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"d-flex flex-column p-0 h-100\" },\n                _react2.default.createElement(OverviewHead, { institution: this.state.institution,\n                    onDeleteInstitution: this.props.onDeleteActiveInstitution,\n                    onEditInstitution: this.onEditInstitution }),\n                _react2.default.createElement(OverviewBody, { institution: this.state.institution })\n            );\n        }\n    }]);\n\n    return InstitutionOverview;\n}(_react.Component);\n\nvar OverviewHead = function (_Component2) {\n    _inherits(OverviewHead, _Component2);\n\n    function OverviewHead(props) {\n        _classCallCheck(this, OverviewHead);\n\n        var _this4 = _possibleConstructorReturn(this, (OverviewHead.__proto__ || Object.getPrototypeOf(OverviewHead)).call(this, props));\n\n        _this4.state = {\n            deleteInstitutionIsShowing: false,\n            editInstitutionIsShowing: false\n        };\n\n        _this4.toggleEditInstitution = _this4.toggleEditInstitution.bind(_this4);\n        _this4.toggleDeleteInstitution = _this4.toggleDeleteInstitution.bind(_this4);\n        return _this4;\n    }\n\n    _createClass(OverviewHead, [{\n        key: \"toggleEditInstitution\",\n        value: function toggleEditInstitution() {\n            this.setState({\n                editInstitutionIsShowing: !this.state.editInstitutionIsShowing\n            });\n        }\n    }, {\n        key: \"toggleDeleteInstitution\",\n        value: function toggleDeleteInstitution() {\n            this.setState({\n                deleteInstitutionIsShowing: !this.state.deleteInstitutionIsShowing\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"page-head pt-5 d-flex flex-row align-items-end\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"mr-auto\" },\n                    _react2.default.createElement(\n                        \"h5\",\n                        { className: \"mb-0 text-secondary\" },\n                        \"Overview\"\n                    ),\n                    _react2.default.createElement(\n                        \"h4\",\n                        { className: \"page-head-title mb-0\" },\n                        this.props.institution.name\n                    )\n                ),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"page-head-actions\" },\n                    _react2.default.createElement(\n                        _reactstrap.Button,\n                        { outline: true, size: \"sm\", color: \"success\", className: \"mr-2\",\n                            onClick: this.toggleEditInstitution },\n                        \"Edit Institution\"\n                    ),\n                    _react2.default.createElement(\n                        _reactstrap.Button,\n                        { outline: true, size: \"sm\", color: \"danger\",\n                            onClick: this.toggleDeleteInstitution },\n                        \"Delete\"\n                    )\n                ),\n                _react2.default.createElement(_modals.DeleteInstitutionModal, { isOpen: this.state.deleteInstitutionIsShowing,\n                    institution: this.props.institution,\n                    toggle: this.toggleDeleteInstitution,\n                    refresh: this.props.onDeleteInstitution }),\n                _react2.default.createElement(_modals.InstitutionFormModal, { edit: true,\n                    isOpen: this.state.editInstitutionIsShowing,\n                    institution: this.props.institution,\n                    refresh: this.props.onEditInstitution,\n                    toggle: this.toggleEditInstitution })\n            );\n        }\n    }]);\n\n    return OverviewHead;\n}(_react.Component);\n\nvar OverviewBody = function (_Component3) {\n    _inherits(OverviewBody, _Component3);\n\n    function OverviewBody(props) {\n        _classCallCheck(this, OverviewBody);\n\n        return _possibleConstructorReturn(this, (OverviewBody.__proto__ || Object.getPrototypeOf(OverviewBody)).call(this, props));\n    }\n\n    _createClass(OverviewBody, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"page-body\" },\n                _react2.default.createElement(InstitutionDetails, { institution: this.props.institution }),\n                _react2.default.createElement(ContactDetails, { institution: this.props.institution })\n            );\n        }\n    }]);\n\n    return OverviewBody;\n}(_react.Component);\n\nvar InstitutionDetails = function (_Component4) {\n    _inherits(InstitutionDetails, _Component4);\n\n    function InstitutionDetails(props) {\n        _classCallCheck(this, InstitutionDetails);\n\n        return _possibleConstructorReturn(this, (InstitutionDetails.__proto__ || Object.getPrototypeOf(InstitutionDetails)).call(this, props));\n    }\n\n    _createClass(InstitutionDetails, [{\n        key: \"render\",\n        value: function render() {\n            var institution = this.props.institution;\n            var agreementType = this.props.institution.agreement === \"B\" ? \"Bilateral\" : \"Multilateral\";\n            var website = \"http://\" + institution.website;\n\n            function openWebsite() {\n                var _require = require(\"electron\"),\n                    shell = _require.shell;\n\n                shell.openExternal(website);\n            }\n\n            return _react2.default.createElement(\n                _section.Section,\n                null,\n                _react2.default.createElement(\n                    _section.SectionTitle,\n                    null,\n                    \"Institution details\"\n                ),\n                _react2.default.createElement(\n                    _section.SectionTable,\n                    null,\n                    _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Address\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true },\n                            institution.address\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Country\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true },\n                            institution.country\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Website\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true, className: \"text-primary\",\n                                onClick: openWebsite },\n                            website\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Agreement Type\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true },\n                            agreementType\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return InstitutionDetails;\n}(_react.Component);\n\nvar ContactDetails = function (_Component5) {\n    _inherits(ContactDetails, _Component5);\n\n    function ContactDetails(props) {\n        _classCallCheck(this, ContactDetails);\n\n        return _possibleConstructorReturn(this, (ContactDetails.__proto__ || Object.getPrototypeOf(ContactDetails)).call(this, props));\n    }\n\n    _createClass(ContactDetails, [{\n        key: \"render\",\n        value: function render() {\n            var institution = this.props.institution;\n\n            var noContactDetails = institution.contact_person_number.length === 0 && institution.contact_person_name.length === 0 && institution.contact_person_email.length === 0;\n\n            if (noContactDetails) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                _section.Section,\n                null,\n                _react2.default.createElement(\n                    _section.SectionTitle,\n                    null,\n                    \"Contact Details\"\n                ),\n                _react2.default.createElement(\n                    _section.SectionTable,\n                    null,\n                    institution.contact_person_name.length > 0 && _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Contact Person\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true },\n                            institution.contact_person_name\n                        )\n                    ),\n                    institution.contact_person_email.length > 0 && _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Contact Person Email\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true },\n                            institution.contact_person_email\n                        )\n                    ),\n                    institution.contact_person_number.length > 0 && _react2.default.createElement(\n                        _section.SectionRow,\n                        null,\n                        _react2.default.createElement(\n                            _section.SectionRowTitle,\n                            null,\n                            \"Contact Person Number\"\n                        ),\n                        _react2.default.createElement(\n                            _section.SectionRowContent,\n                            { large: true },\n                            institution.contact_person_number\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return ContactDetails;\n}(_react.Component);\n\nexports.default = InstitutionOverview;\n//# sourceMappingURL=overview.js.map"]}