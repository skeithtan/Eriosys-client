{"version":3,"sources":["../../../../js/tabs/Institutions/institutions.js"],"names":["fetchInstitutions","onResponse","query","Institutions","props","state","institutionList","filteredList","activeInstitution","setState","response","data","countries","setActiveInstitution","bind","institution","showingList"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;AAGA,SAASA,iBAAT,CAA2BC,UAA3B,EAAuC;AACnC,2BAAQ;AACJC,sNADI;AAYJD,oBAAaA;AAZT,KAAR;AAcH;;IAEKE,Y;;;AACF,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACTA,KADS;;AAGf,cAAKC,KAAL,GAAa;AACTC,6BAAkB,IADT,EACe;AACxBC,0BAAe,IAFN;AAGTC,+BAAoB;AAHX,SAAb;;AAMAR,0BAAkB;AAAA,mBAAY,MAAKS,QAAL,CAAc;AACxCH,iCAAiBI,SAASC,IAAT,CAAcC;AADS,aAAd,CAAZ;AAAA,SAAlB;;AAIA,cAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,OAA5B;AAbe;AAclB;;;;6CAEoBC,W,EAAa;AAC9B,iBAAKN,QAAL,CAAc;AACVD,mCAAoBO;AADV,aAAd;AAGH;;;iCAEQ;AACL,gBAAMR,eAAe,KAAKF,KAAL,CAAWE,YAAhC;AACA,gBAAMD,kBAAkB,KAAKD,KAAL,CAAWC,eAAnC;AACA,gBAAMU,cAAcT,iBAAiB,IAAjB,GAAwBD,eAAxB,GAA0CC,YAA9D;;AAEA,mBACI;AAAA;AAAA,kBAAK,WAAU,2CAAf;AACI,4EAAiB,cAAc,KAAKF,KAAL,CAAWC,eAA1C;AACiB,uCAAmB,KAAKD,KAAL,CAAWG,iBAD/C;AAEiB,0CAAsB,KAAKK,oBAF5C;AADJ,aADJ;AAOH;;;;;;kBAGUV,Y","file":"institutions.js","sourcesContent":["import React, { Component } from \"react\";\nimport InstitutionList from \"./institution_list\";\nimport graphql from \"../../graphql\";\n\n\nfunction fetchInstitutions(onResponse) {\n    graphql({\n        query : `\n        {\n            countries {\n                name\n                institutionSet {\n                    id\n                    name\n                }\n            }\n        }\n        `,\n        onResponse : onResponse,\n    });\n}\n\nclass Institutions extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            institutionList : null, //TODO: Real data\n            filteredList : null,\n            activeInstitution : null,\n        };\n\n        fetchInstitutions(response => this.setState({\n            institutionList: response.data.countries\n        }));\n\n        this.setActiveInstitution = this.setActiveInstitution.bind(this);\n    }\n\n    setActiveInstitution(institution) {\n        this.setState({\n            activeInstitution : institution,\n        });\n    }\n\n    render() {\n        const filteredList = this.state.filteredList;\n        const institutionList = this.state.institutionList;\n        const showingList = filteredList === null ? institutionList : filteredList;\n\n        return (\n            <div className=\"container-fluid d-flex flex-row p-0 h-100\">\n                <InstitutionList institutions={this.state.institutionList}\n                                 activeInstitution={this.state.activeInstitution}\n                                 setActiveInstitution={this.setActiveInstitution}/>\n            </div>\n        );\n    }\n}\n\nexport default Institutions;"]}