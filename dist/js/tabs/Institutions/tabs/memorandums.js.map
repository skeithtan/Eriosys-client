{"version":3,"sources":["../../../../../js/tabs/Institutions/tabs/memorandums.js"],"names":["fetchInstitution","id","onResponse","query","Memorandums","props","state","institution","institutionID","activeMemorandumId","refreshMemorandums","bind","setActiveMemorandum","setState","response","data","memorandum","setSidebarContent","onDeleteMemorandum","nextProps","memorandum_set","MemorandumHead","addMemorandumIsShowing","toggleAddMemorandum","name","MemorandumBody","memorandums","sort","a","b","aTime","date_effective","bTime","isBefore","isAfter","agreements","understandings","forEach","category","push","MemorandumListSection","deleteMemorandumIsShowing","editMemorandumIsShowing","emptyState","toggleDeleteMemorandum","toggleEditMemorandum","children","length","rows","map","index","onMemorandumRowClick","isActive","MemorandumRow","formatDate","date","format","dateEffective","onClick","MemorandumDetailPane","onEditMemorandum","linkages","activeMemorandum","removeActiveMemorandum","MemorandumDetails","type","expiryDate","date_expiration","college","college_initiator","MemorandumLinkages","linkage","code"],"mappings":"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","file":"memorandums.js","sourcesContent":["import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport graphql from \"../../../graphql\";\nimport LoadingSpinner from \"../../../loading\";\nimport settings from \"../../../settings\";\n\nimport {\n    Button,\n    ListGroup,\n} from \"reactstrap\";\n\nimport {\n    Section,\n    SectionTitle,\n    SectionTable,\n    SectionRow,\n} from \"../../../components/section\";\n\nimport {\n    MemorandumFormModal,\n    DeleteMemorandumModal,\n} from \"../modals\";\n\n\nfunction fetchInstitution(id, onResponse) {\n    graphql({\n        query : `\n        {\n            institution(id: ${id}) {\n                id\n                name\n                memorandum_set {\n                    id\n                    category\n                    memorandum_file\n                    date_effective\n                    date_expiration\n                    college_initiator\n                    linkages {\n                        code\n                    }\n                }\n            }\n        }\n       `,\n        onResponse : onResponse,\n    });\n}\n\n\nclass Memorandums extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            institution : null,\n            institutionID : props.institution.id,\n            activeMemorandumId : null,\n        };\n\n        this.refreshMemorandums = this.refreshMemorandums.bind(this);\n        this.setActiveMemorandum = this.setActiveMemorandum.bind(this);\n\n        //Fetch active institution details\n        fetchInstitution(props.institution.id, response => {\n            this.setState({\n                institution : response.data.institution,\n            });\n        });\n    }\n\n    setActiveMemorandum(memorandum) {\n        if (memorandum === null) {\n            this.props.setSidebarContent(null);\n        }\n\n\n        const refreshMemorandums = () => {\n            this.refreshMemorandums();\n        };\n\n        const onDeleteMemorandum = () => {\n            this.setState({\n                activeMemorandumId : null,\n            });\n            this.refreshMemorandums();\n            this.setActiveMemorandum(null);\n        };\n\n\n        this.props.setSidebarContent(\n            <MemorandumDetailPane memorandum={memorandum}\n                                  removeActiveMemorandum={onDeleteMemorandum}\n                                  refreshMemorandums={refreshMemorandums}/>,\n        );\n\n        this.setState({\n            activeMemorandumId : memorandum.id,\n        });\n    }\n\n\n    refreshMemorandums() {\n        this.setState({\n            institution : null,\n        });\n\n        fetchInstitution(this.props.institution.id, response => {\n            this.setState({\n                institution : response.data.institution,\n            });\n        });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.state.institutionID === nextProps.institution.id) {\n            return;\n        }\n\n        this.props.setSidebarContent(null);\n\n        this.setState({\n            institutionID : nextProps.institution.id,\n            institution : null,\n        });\n\n        fetchInstitution(nextProps.institution.id, response => {\n            this.setState({\n                institution : response.data.institution,\n            });\n        });\n    }\n\n    render() {\n        if (this.state.institution === null) {\n            return <LoadingSpinner/>;\n        }\n\n        return (\n            <div id=\"institution-memorandums\" className=\"d-flex flex-column p-0 h-100\">\n                <MemorandumHead institution={this.state.institution} refreshMemorandums={this.refreshMemorandums}/>\n                <MemorandumBody institution={this.state.institution}\n                                memorandums={this.state.institution.memorandum_set}\n                                activeMemorandumId={this.state.activeMemorandumId}\n                                setActiveMemorandum={this.setActiveMemorandum}\n                                refreshMemorandums={this.refreshMemorandums}\n                                setSidebarContent={this.props.setSidebarContent}/>\n            </div>\n        );\n    }\n}\n\nclass MemorandumHead extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            addMemorandumIsShowing : false,\n        };\n\n        this.toggleAddMemorandum = this.toggleAddMemorandum.bind(this);\n    }\n\n    toggleAddMemorandum() {\n        this.setState({\n            addMemorandumIsShowing : !this.state.addMemorandumIsShowing,\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"page-head pt-5 d-flex flex-row align-items-end\">\n                <div className=\"mr-auto\">\n                    <h5 className=\"mb-0 text-secondary\">Memorandums</h5>\n                    <h4 className=\"page-head-title mb-0\">{this.props.institution.name}</h4>\n                </div>\n\n                <div className=\"page-head-actions\">\n                    <Button outline size=\"sm\" color=\"success\" onClick={this.toggleAddMemorandum}>Add a\n                        Memorandum</Button>\n                </div>\n\n                <MemorandumFormModal isOpen={this.state.addMemorandumIsShowing}\n                                     institution={this.props.institution}\n                                     toggle={this.toggleAddMemorandum}\n                                     refresh={this.props.refreshMemorandums}/>\n            </div>\n        );\n    }\n}\n\nclass MemorandumBody extends Component {\n    constructor(props) {\n        super(props);\n\n        //Sort by most recent\n        props.memorandums.sort((a, b) => {\n            const aTime = moment(a.date_effective);\n            const bTime = moment(b.date_effective);\n\n            if (aTime.isBefore(bTime)) {\n                return 1;\n            }\n\n            if (aTime.isAfter(bTime)) {\n                return -1;\n            }\n\n            return 0;\n        });\n\n        let agreements = [];\n        let understandings = [];\n\n        //Categorize\n        props.memorandums.forEach(memorandum => {\n            switch (memorandum.category) {\n                case \"MOA\":\n                    agreements.push(memorandum);\n                    return;\n                case \"MOU\":\n                    understandings.push(memorandum);\n                    return;\n                default:\n                    return;\n            }\n        });\n\n        this.state = {\n            agreements : agreements,\n            understandings : understandings,\n        };\n    }\n\n\n    render() {\n        return (\n            <div className=\"page-body w-100\">\n                <div className=\"d-flex h-100 p-0 flex-row\">\n                    <div className=\"w-100\">\n                        <MemorandumListSection institution={this.props.institution}\n                                               activeMemorandumId={this.props.activeMemorandumId}\n                                               memorandums={this.state.agreements}\n                                               setActiveMemorandum={this.props.setActiveMemorandum}\n                                               refreshMemorandums={this.props.refreshMemorandums}>\n                            MOA (Memorandums of Agreement)\n                        </MemorandumListSection>\n\n                        <MemorandumListSection institution={this.props.institution}\n                                               memorandums={this.state.understandings}\n                                               activeMemorandumId={this.props.activeMemorandumId}\n                                               setActiveMemorandum={this.props.setActiveMemorandum}\n                                               refreshMemorandums={this.props.refreshMemorandums}>\n                            MOU (Memorandums of Understanding)\n                        </MemorandumListSection>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass MemorandumListSection extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            deleteMemorandumIsShowing : false,\n            editMemorandumIsShowing : false,\n        };\n\n        this.emptyState = this.emptyState.bind(this);\n        this.toggleDeleteMemorandum = this.toggleDeleteMemorandum.bind(this);\n        this.toggleEditMemorandum = this.toggleEditMemorandum.bind(this);\n    }\n\n    toggleDeleteMemorandum() {\n        this.setState({\n            deleteMemorandumIsShowing : !this.state.deleteMemorandumIsShowing,\n        });\n    }\n\n    toggleEditMemorandum() {\n        this.setState({\n            editMemorandumIsShowing : !this.state.editMemorandumIsShowing,\n        });\n    }\n\n    emptyState() {\n        return (\n            <div className=\"p-5 text-center bg-light\">\n                <h5 className=\"text-secondary\">There are no {this.props.children} for this institution</h5>\n            </div>\n        );\n    }\n\n    render() {\n        if (this.props.memorandums.length === 0) {\n            return (\n                <Section>\n                    <SectionTitle>{this.props.children}</SectionTitle>\n                    {this.emptyState()}\n                </Section>\n            );\n        }\n\n        const rows = this.props.memorandums.map((memorandum, index) => {\n            const onMemorandumRowClick = () => this.props.setActiveMemorandum(memorandum);\n\n            let isActive = false;\n\n            if (this.props.activeMemorandumId !== null) {\n                isActive = this.props.activeMemorandumId === memorandum.id;\n            }\n\n            return <MemorandumRow memorandum={memorandum}\n                                  isActive={isActive}\n                                  onClick={onMemorandumRowClick}\n                                  latest={index === 0}\n                                  key={memorandum.id}/>;\n        });\n\n        return (\n            <div>\n                <Section>\n                    <SectionTitle>{this.props.children}</SectionTitle>\n                    <SectionTable className=\"memorandums-accordion\">\n                        <ListGroup>\n                            {rows}\n                        </ListGroup>\n                    </SectionTable>\n                </Section>\n            </div>\n        );\n    }\n}\n\nclass MemorandumRow extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const memorandum = this.props.memorandum;\n\n        function formatDate(date) {\n            return moment(date).format(\"LL\");\n        }\n\n        const dateEffective = formatDate(memorandum.date_effective);\n        return (\n            <SectionRow onClick={this.props.onClick}\n                        active={this.props.isActive}>Effective {dateEffective}</SectionRow>\n        );\n    }\n}\n\nclass MemorandumDetailPane extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            deleteMemorandumIsShowing : false,\n            editMemorandumIsShowing : false,\n            memorandum : props.memorandum,\n        };\n\n        this.onEditMemorandum = this.onEditMemorandum.bind(this);\n        this.toggleDeleteMemorandum = this.toggleDeleteMemorandum.bind(this);\n        this.toggleEditMemorandum = this.toggleEditMemorandum.bind(this);\n    }\n\n    toggleDeleteMemorandum() {\n        this.setState({\n            deleteMemorandumIsShowing : !this.state.deleteMemorandumIsShowing,\n        });\n    }\n\n    toggleEditMemorandum() {\n        this.setState({\n            editMemorandumIsShowing : !this.state.editMemorandumIsShowing,\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        this.setState({\n            memorandum : props.memorandum,\n        });\n    }\n\n    onEditMemorandum(memorandum) {\n        this.setState({\n            memorandum : memorandum,\n        });\n    }\n\n    render() {\n        const memorandum = this.state.memorandum;\n        return (\n            <div id=\"memorandum-detail\" className=\"p-0 h-100 page-body justify-content-center\">\n                <MemorandumDetails memorandum={memorandum}\n                                   toggleDeleteMemorandum={this.toggleDeleteMemorandum}\n                                   toggleEditMemorandum={this.toggleEditMemorandum}/>\n                <MemorandumLinkages linkages={memorandum.linkages}/>\n\n                {this.state.activeMemorandum !== null &&\n                <DeleteMemorandumModal isOpen={this.state.deleteMemorandumIsShowing}\n                                       memorandum={memorandum}\n                                       toggle={this.toggleDeleteMemorandum}\n                                       onDeleteSuccess={this.props.removeActiveMemorandum}\n                                       refresh={this.props.refreshMemorandums}/>}\n\n                {this.state.activeMemorandum !== null &&\n                <MemorandumFormModal edit\n                                     isOpen={this.state.editMemorandumIsShowing}\n                                     memorandum={memorandum}\n                                     toggle={this.toggleEditMemorandum}\n                                     onEditSuccess={this.onEditMemorandum}\n                                     refresh={this.props.refreshMemorandums}/>}\n            </div>\n        );\n    }\n}\n\nclass MemorandumDetails extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        function formatDate(date) {\n            return moment(date).format(\"LL\");\n        }\n\n        const dateEffective = formatDate(this.props.memorandum.date_effective);\n        const type = this.props.memorandum.category === \"MOA\" ? \"Agreement\" : \"Understanding\";\n        const expiryDate = this.props.memorandum.date_expiration === null ? \"None\" : formatDate(this.props.memorandum.date_expiration);\n        const college = this.props.memorandum.college_initiator === null ? \"None\" : this.props.memorandum.college_initiator;\n\n        return (\n            <div>\n                <h5 className=\"text-center mt-5\">Effective {dateEffective}</h5>\n                <div className=\"d-flex flex-row justify-content-center mt-3\">\n                    <div className=\"text-right d-flex flex-column mr-3\">\n                        <small className=\"text-muted\">Memorandum Type</small>\n                        <small className=\"text-muted\">Expiration Date</small>\n                        <small className=\"text-muted\">College Initiator</small>\n                    </div>\n                    <div className=\"d-flex flex-column\">\n                        <small>{type}</small>\n                        <small>{expiryDate}</small>\n                        <small>{college}</small>\n                    </div>\n                </div>\n                {/* Buttons */}\n                <div className=\"d-flex flex-row justify-content-center mt-3\">\n                    <Button outline color=\"success\" size=\"sm\" className=\"mr-2\">View</Button>\n                    <Button outline color=\"success\" size=\"sm\" className=\"mr-2\"\n                            onClick={this.props.toggleEditMemorandum}>Edit</Button>\n                    <Button outline color=\"danger\" size=\"sm\"\n                            onClick={this.props.toggleDeleteMemorandum}>Delete</Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass MemorandumLinkages extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        if (this.props.linkages.length === 0) {\n            return (\n                <div className=\"p-5 mt-3 text-center\">\n                    <h5 className=\"text-secondary\">There are no linkages for this institution</h5>\n                </div>\n            );\n        }\n\n        const rows = this.props.linkages.map((linkage, index) => {\n            return (\n                <SectionRow key={index}>{settings.linkages[linkage.code]}</SectionRow>\n            );\n        });\n\n        return (\n            <div id=\"memorandum-linkages\">\n                <SectionTitle>Linkages</SectionTitle>\n                <ListGroup>\n                    {rows}\n                </ListGroup>\n            </div>\n        );\n    }\n}\n\nexport default Memorandums;"]}