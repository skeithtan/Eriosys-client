{"version":3,"sources":["../../../../../js/tabs/Institutions/tabs/memorandums.js"],"names":["Memorandums","props","state","showing","understandings","onUnderstandingClick","agreements","onAgreementClick","MemorandumHead","MemorandumBody","memorandums","forEach","memorandum","versionDate","dateEffective","dateExpiration","sort","a","b","aTime","bTime","isBefore","isAfter","category","push","MemorandumListSection","MemorandumsOfUnderstanding","latestMemorandum","previousMemorandums","showingMemorandumId","length","splice","emptyState","bind","getCollapseContent","memorandumIsShowing","makeMemorandumShowing","id","setState","map","hasPreviousMemorandums","cardHeaderClass","toggle","MemorandumsOfAgreement","MemorandumRow","console","log","formatDate","date","format","collegeInitiator","isOpen","MemorandumDetailRow","fieldName","fieldValue"],"mappings":"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","file":"memorandums.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    Button,\n    Card,\n    CardBody,\n    CardHeader,\n    Collapse,\n    ListGroup,\n    ListGroupItem,\n} from \"reactstrap\";\nimport moment from \"moment\";\n\n\nclass Memorandums extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"mb-4\">\n                <small className=\"section-title\">Memorandums</small>\n                <div id=\"memorandums-accordion\">\n                    <MemorandumsOfUnderstanding showing={this.state.showing === \"MOU\"}\n                                                memorandums={this.state.understandings}\n                                                toggle={this.onUnderstandingClick}/>\n                    <MemorandumsOfAgreement showing={this.state.showing === \"MOA\"}\n                                            memorandums={this.state.agreements}\n                                            toggle={this.onAgreementClick}/>\n                </div>\n                <small className=\"section-footer\">Select a memorandum type to reveal details.</small>\n            </div>\n        );\n    }\n}\n\nclass MemorandumHead extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n\n    }\n}\n\nclass MemorandumBody extends Component {\n    constructor(props) {\n        super(props);\n\n        //Parse dates\n        props.memorandums.forEach(memorandum => {\n            memorandum.versionDate = moment(memorandum.versionDate);\n            memorandum.dateEffective = moment(memorandum.dateEffective);\n            memorandum.dateExpiration = moment(memorandum.dateExpiration);\n        });\n\n        //Sort by most recent\n        props.memorandums.sort((a, b) => {\n            const aTime = a.dateEffective;\n            const bTime = b.dateEffective;\n\n            if (aTime.isBefore(bTime)) {\n                return 1;\n            }\n\n            if (aTime.isAfter(bTime)) {\n                return -1;\n            }\n\n            return 0;\n        });\n\n        let agreements = [];\n        let understandings = [];\n\n        //Categorize\n        props.memorandums.forEach(memorandum => {\n            switch (memorandum.category) {\n                case \"MOA\":\n                    agreements.push(memorandum);\n                    return;\n                case \"MOU\":\n                    understandings.push(memorandum);\n                    return;\n                default:\n                    return;\n            }\n        });\n\n        this.state = {\n            showing : null,\n            agreements : agreements,\n            understandings : understandings,\n        };\n    }\n}\n\nclass MemorandumListSection extends Component {\n    constructor(props) {\n        super(props);\n    }\n}\n\nclass MemorandumsOfUnderstanding extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            latestMemorandum : null,\n            previousMemorandums : [],\n            showingMemorandumId : null,\n        };\n\n        if (props.memorandums.length > 0) {\n            // This is sorted by date so latest version is the one on top\n            this.state.latestMemorandum = props.memorandums[0];\n            this.state.previousMemorandums = props.memorandums.splice(1); //Everything else\n        }\n\n        this.emptyState = this.emptyState.bind(this);\n        this.getCollapseContent = this.getCollapseContent.bind(this);\n        this.memorandumIsShowing = this.memorandumIsShowing.bind(this);\n        this.makeMemorandumShowing = this.makeMemorandumShowing.bind(this);\n    }\n\n    emptyState() {\n        return (\n            <div className=\"p-5 text-center text-muted\">\n                <h5 className=\"mb-0\">There are no Memorandums of Understanding for this institution.</h5>\n            </div>\n        );\n    }\n\n    makeMemorandumShowing(memorandum) {\n        // If there are no showing memorandums or if the memorandum showing is not the one clicked\n        if (this.state.showingMemorandumId === null || this.state.showingMemorandumId !== memorandum.id) {\n            this.setState({\n                showingMemorandumId : memorandum.id,\n            });\n        } else {\n            // If the showing memorandum is clicked, collapse it\n            this.setState({\n                showingMemorandumId : null,\n            });\n        }\n    }\n\n    memorandumIsShowing(memorandum) {\n        if (this.state.showingMemorandumId === null) {\n            return false;\n        }\n\n        return this.state.showingMemorandumId === memorandum.id;\n    }\n\n    getCollapseContent() {\n        if (this.state.latestMemorandum === null) {\n            return this.emptyState();\n        }\n\n        const previousMemorandums = this.state.previousMemorandums.map(memorandum => {\n            return <MemorandumRow memorandum={memorandum} isOpen={this.memorandumIsShowing(memorandum)}\n                                  toggle={() => this.makeMemorandumShowing(memorandum)}/>;\n        });\n\n        const hasPreviousMemorandums = previousMemorandums.length !== 0;\n\n        return (\n            <CardBody className=\"pt-0\">\n                <small className=\"section-title\">Latest Memorandum</small>\n                <MemorandumRow memorandum={this.state.latestMemorandum}\n                               isOpen={this.memorandumIsShowing(this.state.latestMemorandum)}\n                               toggle={() => this.makeMemorandumShowing(this.state.latestMemorandum)}/>\n\n                {hasPreviousMemorandums && <small className=\"section-title\">Previous Memorandums</small>}\n                {previousMemorandums}\n            </CardBody>\n        );\n    }\n\n    render() {\n        let cardHeaderClass = \"d-flex flex-row align-items-center \";\n\n        if (!this.props.showing) {\n            cardHeaderClass += \"collapsed\";\n        }\n\n        return (\n            <Card>\n                <CardHeader className={cardHeaderClass} onClick={this.props.toggle}>\n                    <h5 className=\"mr-auto mb-0\">Memorandums of Understanding</h5>\n                    <Button outline size=\"sm\" color=\"success\" className=\"add-memorandum-btn\">Add a new version</Button>\n                </CardHeader>\n\n                <Collapse isOpen={this.props.showing}>\n                    {this.getCollapseContent()}\n                </Collapse>\n            </Card>\n        );\n    }\n}\n\nclass MemorandumsOfAgreement extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            latestMemorandum : null,\n            previousMemorandums : [],\n            showingMemorandumId : null,\n        };\n\n        if (props.memorandums.length > 0) {\n            // This is sorted by date so latest version is the one on top\n            this.state.latestMemorandum = props.memorandums[0];\n            this.state.previousMemorandums = props.memorandums.splice(1); //Everything else\n        }\n\n        this.emptyState = this.emptyState.bind(this);\n        this.getCollapseContent = this.getCollapseContent.bind(this);\n        this.memorandumIsShowing = this.memorandumIsShowing.bind(this);\n        this.makeMemorandumShowing = this.makeMemorandumShowing.bind(this);\n    }\n\n    emptyState() {\n        return (\n            <div className=\"p-5 text-center text-muted\">\n                <h5 className=\"mb-0\">There are no Memorandums of Agreement for this institution.</h5>\n            </div>\n        );\n    }\n\n    makeMemorandumShowing(memorandum) {\n        // If there are no showing memorandums or if the memorandum showing is not the one clicked\n        if (this.state.showingMemorandumId === null || this.state.showingMemorandumId !== memorandum.id) {\n            this.setState({\n                showingMemorandumId : memorandum.id,\n            });\n        } else {\n            // If the showing memorandum is clicked, collapse it\n            this.setState({\n                showingMemorandumId : null,\n            });\n        }\n    }\n\n    memorandumIsShowing(memorandum) {\n        if (this.state.showingMemorandumId === null) {\n            return false;\n        }\n\n        return this.state.showingMemorandumId === memorandum.id;\n    }\n\n    getCollapseContent() {\n        if (this.state.latestMemorandum === null) {\n            return this.emptyState();\n        }\n\n        const previousMemorandums = this.state.previousMemorandums.map(memorandum => {\n            return <MemorandumRow memorandum={memorandum} isOpen={this.memorandumIsShowing(memorandum)}\n                                  toggle={() => this.makeMemorandumShowing(memorandum)}/>;\n        });\n\n        const hasPreviousMemorandums = previousMemorandums.length !== 0;\n\n        return (\n            <CardBody className=\"pt-0\">\n                <small className=\"section-title\">Latest Memorandum</small>\n                <MemorandumRow memorandum={this.state.latestMemorandum}\n                               isOpen={this.memorandumIsShowing(this.state.latestMemorandum)}\n                               toggle={() => this.makeMemorandumShowing(this.state.latestMemorandum)}/>\n\n                {hasPreviousMemorandums && <small className=\"section-title\">Previous Memorandums</small>}\n                {previousMemorandums}\n            </CardBody>\n        );\n    }\n\n    render() {\n        let cardHeaderClass = \"d-flex flex-row align-items-center \";\n\n        if (!this.props.showing) {\n            cardHeaderClass += \"collapsed\";\n        }\n\n        this.getCollapseContent();\n\n        return (\n            <Card>\n                <CardHeader className={cardHeaderClass} onClick={this.props.toggle}>\n                    <h5 className=\"mr-auto mb-0\">Memorandums of Agreement</h5>\n                    <Button outline size=\"sm\" color=\"success\" className=\"add-memorandum-btn\">Add a new version</Button>\n                </CardHeader>\n\n                <Collapse isOpen={this.props.showing}>\n                    {this.getCollapseContent()}\n                </Collapse>\n            </Card>\n        );\n    }\n}\n\nclass MemorandumRow extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        console.log(this.props);\n        let cardHeaderClass = this.props.showing ? \"\" : \"collapsed\";\n        const memorandum = this.props.memorandum;\n\n        function formatDate(date) {\n            return date.format(\"LL\");\n        }\n\n        const versionDate = formatDate(memorandum.versionDate);\n        const dateEffective = formatDate(memorandum.dateEffective);\n        const dateExpiration = memorandum.dateExpiration === null ? \"No expiration\" : formatDate(memorandum.dateExpiration);\n        const collegeInitiator = memorandum.collegeInitiator === null ? \"No college initiator\" : memorandum.collegeInitiator;\n\n        return (\n            <Card>\n                <CardHeader className={cardHeaderClass} onClick={this.props.toggle}>\n                    Version {versionDate}\n                </CardHeader>\n\n                <Collapse isOpen={this.props.isOpen}>\n                    <CardBody className=\"p-0\">\n                        <ListGroup>\n                            <MemorandumDetailRow fieldName=\"Date Effective\"\n                                                 fieldValue={dateEffective}/>\n                            <MemorandumDetailRow fieldName=\"Date Expiration\"\n                                                 fieldValue={dateExpiration}/>\n                            <MemorandumDetailRow fieldName=\"College Initiator\"\n                                                 fieldValue={collegeInitiator}/>\n                            <ListGroupItem>\n                                <Button outline color=\"primary\">Open Memorandum Copy</Button>\n                            </ListGroupItem>\n                        </ListGroup>\n                    </CardBody>\n                </Collapse>\n            </Card>\n        );\n    }\n}\n\nclass MemorandumDetailRow extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <ListGroupItem>\n                <small className=\"font-weight-bold\">{this.props.fieldName}</small>\n                <p className=\"lead mb-0\">{this.props.fieldValue}</p>\n            </ListGroupItem>\n        );\n    }\n}\n\nexport default Memorandums;"]}