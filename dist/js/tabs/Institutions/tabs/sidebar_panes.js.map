{"version":3,"sources":["../../../../../js/tabs/Institutions/tabs/sidebar_panes.js"],"names":["MemorandumSidebarPane","props","state","deleteMemorandumIsShowing","editMemorandumIsShowing","memorandum","onEditMemorandum","bind","toggleDeleteMemorandum","toggleEditMemorandum","setState","linkages","activeMemorandum","removeActiveMemorandum","refreshMemorandums","MemorandumDetails","formatDate","date","format","dateEffective","date_effective","type","category","expiryDate","date_expiration","college","college_initiator","viewMemorandum","shell","require","openExternal","memorandum_file","MemorandumLinkages","body","rows","map","linkage","index","length"],"mappings":"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","file":"sidebar_panes.js","sourcesContent":["import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport settings from \"../../../settings\";\nimport { Button, } from \"reactstrap\";\n\nimport {\n    DeleteMemorandumModal,\n    MemorandumFormModal,\n} from \"../modals\";\nimport {\n    Section,\n    SectionRow,\n    SectionRowContent,\n    SectionRowTitle,\n    SectionTable,\n    SectionTitle,\n} from \"../../../components/section\";\n\n\nclass MemorandumSidebarPane extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            deleteMemorandumIsShowing : false,\n            editMemorandumIsShowing : false,\n            memorandum : props.memorandum,\n        };\n\n        this.onEditMemorandum = this.onEditMemorandum.bind(this);\n        this.toggleDeleteMemorandum = this.toggleDeleteMemorandum.bind(this);\n        this.toggleEditMemorandum = this.toggleEditMemorandum.bind(this);\n    }\n\n    toggleDeleteMemorandum() {\n        this.setState({\n            deleteMemorandumIsShowing : !this.state.deleteMemorandumIsShowing,\n        });\n    }\n\n    toggleEditMemorandum() {\n        this.setState({\n            editMemorandumIsShowing : !this.state.editMemorandumIsShowing,\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        this.setState({\n            memorandum : props.memorandum,\n        });\n    }\n\n    onEditMemorandum(memorandum) {\n        this.setState({\n            memorandum : memorandum,\n        });\n    }\n\n    render() {\n        const memorandum = this.state.memorandum;\n        return (\n            <div className=\"p-0 h-100 d-flex flex-column\">\n                <div className=\"page-head pt-5 d-flex flex-row align-items-end\">\n                    <div className=\"mr-auto\">\n                        <h5 className=\"mb-0\">Memorandum</h5>\n                    </div>\n                </div>\n\n\n                <div className=\"page-body\">\n                    <MemorandumDetails memorandum={memorandum}\n                                       toggleDeleteMemorandum={this.toggleDeleteMemorandum}\n                                       toggleEditMemorandum={this.toggleEditMemorandum}/>\n                    <MemorandumLinkages linkages={memorandum.linkages}/>\n\n                    {this.state.activeMemorandum !== null &&\n                    <DeleteMemorandumModal isOpen={this.state.deleteMemorandumIsShowing}\n                                           memorandum={memorandum}\n                                           toggle={this.toggleDeleteMemorandum}\n                                           onDeleteSuccess={this.props.removeActiveMemorandum}\n                                           refresh={this.props.refreshMemorandums}/>}\n\n                    {this.state.activeMemorandum !== null &&\n                    <MemorandumFormModal edit\n                                         isOpen={this.state.editMemorandumIsShowing}\n                                         memorandum={memorandum}\n                                         toggle={this.toggleEditMemorandum}\n                                         onEditSuccess={this.onEditMemorandum}\n                                         refresh={this.props.refreshMemorandums}/>}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass MemorandumDetails extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        function formatDate(date) {\n            return moment(date).format(\"LL\");\n        }\n\n        const dateEffective = formatDate(this.props.memorandum.date_effective);\n        const type = this.props.memorandum.category === \"MOA\" ? \"Agreement\" : \"Understanding\";\n        const expiryDate = this.props.memorandum.date_expiration === null ? \"None\" : formatDate(this.props.memorandum.date_expiration);\n        const college = this.props.memorandum.college_initiator === null ? \"None\" : this.props.memorandum.college_initiator;\n        const viewMemorandum = () => {\n            const shell = require(\"electron\").shell;\n            shell.openExternal(this.props.memorandum.memorandum_file);\n        };\n\n        return (\n            <Section>\n                <SectionTitle>Details</SectionTitle>\n                <SectionTable>\n                    <SectionRow>\n                        <SectionRowTitle>Memorandum Type</SectionRowTitle>\n                        <SectionRowContent>{type}</SectionRowContent>\n                    </SectionRow>\n                    <SectionRow>\n                        <SectionRowTitle>Date Effective</SectionRowTitle>\n                        <SectionRowContent>{dateEffective}</SectionRowContent>\n                    </SectionRow>\n                    <SectionRow>\n                        <SectionRowTitle>Expiration Date</SectionRowTitle>\n                        <SectionRowContent>{expiryDate}</SectionRowContent>\n                    </SectionRow>\n                    <SectionRow>\n                        <SectionRowTitle>College Initiator</SectionRowTitle>\n                        <SectionRowContent>{college}</SectionRowContent>\n                    </SectionRow>\n                    <SectionRow>\n                        <SectionRowContent className=\"d-flex\">\n                            <Button outline color=\"success\" size=\"sm\" className=\"mr-2\"\n                                    onClick={viewMemorandum}>View</Button>\n                            <Button outline color=\"success\" size=\"sm\" className=\"mr-auto\"\n                                    onClick={this.props.toggleEditMemorandum}>Edit</Button>\n                            <Button outline color=\"danger\" size=\"sm\"\n                                    onClick={this.props.toggleDeleteMemorandum}>Delete</Button>\n                        </SectionRowContent>\n                    </SectionRow>\n                </SectionTable>\n            </Section>\n        );\n    }\n}\n\nclass MemorandumLinkages extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let body = (\n            <div className=\"p-4 pt-5 pb-5 bg-light text-center\">\n                <h5 className=\"text-secondary\">There are no linkages for this memorandum.</h5>\n            </div>\n        );\n\n\n        const rows = this.props.linkages.map((linkage, index) => {\n            return (\n                <SectionRow key={index}>{settings.linkages[linkage]}</SectionRow>\n            );\n        });\n\n        if (this.props.linkages.length > 0) {\n            body = (\n                <SectionTable>\n                    {rows}\n                </SectionTable>\n            );\n        }\n\n        return (\n            <Section>\n                <SectionTitle>Linkages</SectionTitle>\n                {body}\n            </Section>\n        );\n    }\n}\n\n\nexport { MemorandumSidebarPane };"]}