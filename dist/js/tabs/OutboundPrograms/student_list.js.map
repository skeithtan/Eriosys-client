{"version":3,"sources":["../../../../js/tabs/OutboundPrograms/student_list.js"],"names":["StudentList","props","state","addStudentsIsShowing","toggleAddStudents","bind","setState","activeProgram","studentList","studyFields","refreshStudents","StudentListHead","name","StudentListTable","emptyState","length","sections","map","studyField","index","students","StudentSection","body","rows","student","id_number","family_name","first_name","middle_name","title"],"mappings":"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","file":"student_list.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    Input,\n    Button,\n} from \"reactstrap\";\nimport {\n    Section,\n    SectionTitle,\n    SectionTable,\n    SectionRow,\n} from \"../../components/section\";\nimport LoadingSpinner from \"../../components/loading\";\nimport { StudentFormModal } from \"./modals\";\n\nclass StudentList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            addStudentsIsShowing : false,\n        };\n\n        this.toggleAddStudents = this.toggleAddStudents.bind(this);\n    }\n\n    toggleAddStudents() {\n        this.setState({\n            addStudentsIsShowing : !this.state.addStudentsIsShowing,\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"programs-page-pane d-flex flex-column\">\n                <StudentListHead activeProgram={ this.props.activeProgram }\n                                 toggleAddStudents={ this.toggleAddStudents }/>\n                <StudentListTable students={ this.props.studentList }/>\n                <StudentFormModal activeProgram={ this.props.activeProgram }\n                                  studyFields={ studyFields }\n                                  refreshStudents={ this.props.refreshStudents }\n                                  toggle={ this.toggleAddStudents }\n                                  isOpen={ this.state.addStudentsIsShowing }/>\n            </div>\n        );\n    }\n}\n\nclass StudentListHead extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"page-head d-flex flex-column align-items-center\">\n                <div className=\"page-head-controls ml-auto\">\n                    <Button outline color=\"success\" size=\"sm\" className=\"ml-auto\"\n                            onClick={ this.props.toggleAddStudents }>Add</Button>\n                </div>\n                <div className=\"w-100 mb-2\">\n                    <h5 className=\"mb-0 text-secondary\">Students</h5>\n                    <h4 className=\"page-head-title mb-0\">{ this.props.activeProgram.name }</h4>\n                </div>\n                <Input type=\"search\" placeholder=\"Search\" className=\"search-input\"/>\n            </div>\n        );\n    }\n}\n\nclass StudentListTable extends Component {\n    constructor(props) {\n        super(props);\n\n        this.emptyState = this.emptyState.bind(this);\n    }\n\n    emptyState() {\n        return (\n            <div className=\"loading-container\">\n                <h4>There's nothing here.</h4>\n                <p>When added, Students will show up here.</p>\n            </div>\n        );\n    }\n\n    render() {\n        if (this.props.studyFields === null) {\n            return <LoadingSpinner/>;\n        }\n\n        if (this.props.studyFields.length === 0) {\n            return this.emptyState();\n        }\n\n        const sections = this.props.studyFields.map((studyField, index) => {\n            return <StudentSection key={ index }\n                                   title={ studyField.studyField }\n                                   students={ studyField.students }/>;\n        });\n\n        return (\n            <div className=\"page-body\">\n                { sections }\n            </div>\n        );\n    }\n}\n\nclass StudentSection extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let body = (\n            <div className=\"p-4 pt-5 pb-5 bg-light text-center\">\n                <h5 className=\"text-secondary\">There are no students for this study field.</h5>\n            </div>\n        );\n\n        const rows = this.props.students.map((student, index) => {\n            return (\n                <SectionRow key={ index }>\n                    <small className=\"d-block\">{ student.id_number }</small>\n                    <b>{ student.family_name }</b>, { student.first_name } { student.middle_name }\n                </SectionRow>\n            );\n        });\n\n        if (this.props.students.length > 0) {\n            body = (\n                <SectionTable>\n                    { rows }\n                </SectionTable>\n            );\n        }\n\n        return (\n            <Section>\n                <SectionTitle>{ this.props.title }</SectionTitle>\n                { body }\n            </Section>\n        );\n    }\n}\n\nexport default StudentList;"]}