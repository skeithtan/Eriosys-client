{"version":3,"sources":["../../../../js/tabs/Programs/year_list.js"],"names":["YearList","props","state","addAcademicYearIsShowing","getArrangedYears","bind","toggleAddAcademicYear","setState","yearList","sort","a","b","academic_year_start","years","activeYear","setActiveYear","YearListHead","YearListTable","length","emptyState","rows","map","year","index","isActive","yearStart","Number"],"mappings":"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","file":"year_list.js","sourcesContent":["import React, { Component } from \"react\";\nimport LoadingSpinner from \"../../components/loading\";\nimport { AcademicYearFormModal } from \"./modals\";\nimport { Button } from \"reactstrap\";\n\nimport {\n    SectionRow,\n    SectionRowContent,\n    SectionTable,\n} from \"../../components/section\";\n\n\nclass YearList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            addAcademicYearIsShowing : false,\n        };\n\n        this.getArrangedYears = this.getArrangedYears.bind(this);\n        this.toggleAddAcademicYear = this.toggleAddAcademicYear.bind(this);\n    }\n\n    toggleAddAcademicYear() {\n        this.setState({\n            addAcademicYearIsShowing : !this.state.addAcademicYearIsShowing,\n        });\n    }\n\n    getArrangedYears() {\n        if (this.props.yearList === null) {\n            return [];\n        }\n\n        // Arrange in ascending order\n        return this.props.yearList.sort(function (a, b) {\n            return a.academic_year_start - b.academic_year_start;\n        });\n    }\n\n    render() {\n        const years = this.getArrangedYears();\n\n        return (\n            <div className=\"sidebar h-100\"\n                 id=\"term-list\">\n                <YearListHead toggleAddAcademicYear={this.toggleAddAcademicYear}/>\n                <YearListTable yearList={years}\n                               activeYear={this.props.activeYear}\n                               setActiveYear={this.props.setActiveYear}/>\n                <AcademicYearFormModal toggle={this.toggleAddAcademicYear}\n                                       isOpen={this.state.addAcademicYearIsShowing}/>\n            </div>\n        );\n    }\n}\n\nclass YearListHead extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"page-head\">\n                <div className=\"page-head-controls\">\n                    <Button outline\n                            color=\"success\"\n                            size=\"sm\"\n                            className=\"ml-auto\"\n                            onClick={this.props.toggleAddAcademicYear}>Add</Button>\n                </div>\n                <h4 className=\"page-head-title mb-0\">Academic Years</h4>\n            </div>\n        );\n    }\n}\n\nclass YearListTable extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    emptyState() {\n        //TODO: Add year\n        return (\n            <div className=\"loading-container\">\n                <h4>There's nothing here.</h4>\n            </div>\n        );\n    }\n\n    render() {\n        if (this.props.yearList === null) {\n            return <LoadingSpinner/>;\n        }\n\n        if (this.props.yearList.length === 0) {\n            return this.emptyState();\n        }\n\n        const rows = this.props.yearList.map((year, index) => {\n            const isActive = this.props.activeYear === year.academic_year_start;\n            const setActiveYear = () => this.props.setActiveYear(year);\n\n            const yearStart = Number(year.academic_year_start);\n\n            return (\n                <SectionRow selectable\n                            key={index}\n                            onClick={setActiveYear}\n                            active={isActive}>\n\n                    <SectionRowContent>{yearStart} - {yearStart + 1}</SectionRowContent>\n\n                </SectionRow>\n            );\n        });\n\n        return (\n            <div className=\"page-body\">\n                <SectionTable>\n                    {rows}\n                </SectionTable>\n            </div>\n        );\n    }\n}\n\nexport default YearList;"]}