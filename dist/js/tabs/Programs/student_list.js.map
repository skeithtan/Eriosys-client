{"version":3,"sources":["../../../../js/tabs/Programs/student_list.js"],"names":["StudentList","props","getSortedStudyFields","bind","studyFieldList","studyFields","filter","value","index","self","indexOf","categorizedByStudyField","forEach","students","studyField","studentprogram_set","studentProgram","study_field","name","push","student","activeProgram","refreshStudents","StudentListHead","StudentListTable","sections","map","StudentSection","rows","id_number","family_name","first_name","middle_name","title"],"mappings":"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","file":"student_list.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    Input,\n    Button,\n} from \"reactstrap\";\nimport {\n    Section,\n    SectionTitle,\n    SectionTable,\n    SectionRow,\n} from \"../../components/section\";\n\nclass StudentList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.getSortedStudyFields = this.getSortedStudyFields.bind(this);\n    }\n\n    getSortedStudyFields() {\n        if (this.props.studyFieldList === null) {\n            return [];\n        }\n\n        let studyFields = this.props.studyFieldList;\n\n        // Get uniques only\n        studyFields = studyFields.filter((value, index, self) => {\n            return self.indexOf(value) === index;\n        });\n\n        // A different approach\n        let categorizedByStudyField = [];\n        studyFields.forEach(studyField => {\n            let students = [];\n            studyField.studentprogram_set.forEach(studentProgram => {\n                if (studentProgram.study_field.name === studyField.name) {\n                    students.push(studentProgram.student);\n                }\n            });\n            categorizedByStudyField.push({\n                studyField : studyField.name,\n                students : students,\n            });\n        });\n\n        return categorizedByStudyField;\n    }\n\n    render() {\n        const studyFields = this.getSortedStudyFields();\n\n        return (\n            <div className=\"h-100 d-flex flex-column\">\n                <StudentListHead activeProgram={ this.props.activeProgram }\n                                 refreshStudents={ this.props.refreshStudents }/>\n                <StudentListTable studyFields={ studyFields }/>\n            </div>\n        );\n    }\n}\n\nclass StudentListHead extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"page-head d-flex flex-column align-items-center\">\n                <div className=\"page-head-controls ml-auto\">\n                    <Button outline color=\"success\" size=\"sm\" className=\"ml-auto\">Add</Button>\n                </div>\n                <div className=\"w-100 mb-2\">\n                    <h5 className=\"mb-0 text-secondary\">Students</h5>\n                    <h4 className=\"page-head-title mb-0\">{ this.props.activeProgram.name }</h4>\n                </div>\n                <Input type=\"search\" placeholder=\"Search\" className=\"search-input\"/>\n            </div>\n        );\n    }\n}\n\nclass StudentListTable extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const sections = this.props.studyFields.map((studyField, index) => {\n            return <StudentSection key={ index }\n                                   title={ studyField.studyField }\n                                   students={ studyField.students }/>;\n        });\n\n        return (\n            <div className=\"page-body\">\n                { sections }\n            </div>\n        );\n    }\n}\n\nclass StudentSection extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const rows = this.props.students.map((student, index) => {\n            return (\n                <SectionRow key={ index }>\n                    <small className=\"d-block\">{ student.id_number }</small>\n                    <b>{ student.family_name }</b>, { student.first_name } { student.middle_name }\n                </SectionRow>\n            );\n        });\n\n        return (\n            <Section>\n                <SectionTitle>{ this.props.title }</SectionTitle>\n                <SectionTable>\n                    { rows }\n                </SectionTable>\n            </Section>\n        );\n    }\n}\n\nexport default StudentList;"]}