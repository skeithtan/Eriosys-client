{"version":3,"sources":["../../../../js/tabs/Students/students.js"],"names":["fetchStudents","onResponse","query","Students","props","state","allStudents","activeStudent","addStudentIsShowing","setActiveStudent","bind","toggleAddStudent","refreshStudents","onDeleteActiveStudent","setState","response","data","students","student"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AAMA,SAASA,aAAT,CAAuBC,UAAvB,EAAmC;AAC/B,2BAAQ;AACJC,yMADI;AAWJD,oBAAaA;AAXT,KAAR;AAaH;;IAEKE,Q;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,wHACTA,KADS;;AAGf,cAAKC,KAAL,GAAa;AACTC,yBAAc,IADL;AAETC,2BAAgB,IAFP;AAGTC,iCAAsB;AAHb,SAAb;;AAMA,cAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,OAAxB;AACA,cAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,OAAxB;AACA,cAAKE,eAAL,GAAuB,MAAKA,eAAL,CAAqBF,IAArB,OAAvB;AACA,cAAKG,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BH,IAA3B,OAA7B;AACA,cAAKE,eAAL;AAbe;AAclB;;;;0CAEiB;AAAA;;AACdZ,0BAAc,oBAAY;AACtB,uBAAKc,QAAL,CAAc;AACVR,iCAAcS,SAASC,IAAT,CAAcC;AADlB,iBAAd;AAGH,aAJD;AAKH;;;gDAEuB;AACpB,iBAAKH,QAAL,CAAc;AACVP,+BAAgB;AADN,aAAd;;AAIA,iBAAKK,eAAL;AACH;;;2CAEkB;AACf,iBAAKE,QAAL,CAAc;AACVN,qCAAsB,CAAC,KAAKH,KAAL,CAAWG;AADxB,aAAd;AAGH;;;yCAEgBU,O,EAAS;AACtB,iBAAKJ,QAAL,CAAc;AACVP,+BAAgBW;AADN,aAAd;AAGH;;;iCAEQ;AACL,mBACI;AAAA;AAAA,kBAAK,WAAU,2CAAf;AACI,wEAAa,UAAU,KAAKb,KAAL,CAAWC,WAAlC;AACa,mCAAe,KAAKD,KAAL,CAAWE,aADvC;AAEa,sCAAkB,KAAKE,gBAFpC;AAGa,sCAAkB,KAAKE,gBAHpC,GADJ;AAKI,0EAAe,SAAS,KAAKN,KAAL,CAAWE,aAAnC;AACe,2CAAuB,KAAKM,qBAD3C;AAEe,qCAAiB,KAAKD,eAFrC,GALJ;AASI,0EAAkB,QAAQ,KAAKP,KAAL,CAAWG,mBAArC;AACkB,4BAAQ,KAAKG,gBAD/B;AAEkB,6BAAS,KAAKC,eAFhC;AATJ,aADJ;AAeH;;;;;;kBAGUT,Q","file":"students.js","sourcesContent":["import React, { Component } from \"react\";\nimport graphql from \"../../graphql\";\nimport StudentList from \"./student_list\";\nimport StudentDetail from \"./student_detail\";\nimport {\n    AddStudentModal,\n    StudentFormModal,\n} from \"./modals\";\n\n\nfunction fetchStudents(onResponse) {\n    graphql({\n        query : `\n        {\n            students {\n                id_number\n                family_name\n                first_name\n                middle_name\n            }\n        }\n        `,\n        onResponse : onResponse,\n    });\n}\n\nclass Students extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            allStudents : null,\n            activeStudent : null,\n            addStudentIsShowing : false,\n        };\n\n        this.setActiveStudent = this.setActiveStudent.bind(this);\n        this.toggleAddStudent = this.toggleAddStudent.bind(this);\n        this.refreshStudents = this.refreshStudents.bind(this);\n        this.onDeleteActiveStudent = this.onDeleteActiveStudent.bind(this);\n        this.refreshStudents();\n    }\n\n    refreshStudents() {\n        fetchStudents(response => {\n            this.setState({\n                allStudents : response.data.students,\n            });\n        });\n    }\n\n    onDeleteActiveStudent() {\n        this.setState({\n            activeStudent : null,\n        });\n\n        this.refreshStudents();\n    }\n\n    toggleAddStudent() {\n        this.setState({\n            addStudentIsShowing : !this.state.addStudentIsShowing,\n        });\n    }\n\n    setActiveStudent(student) {\n        this.setState({\n            activeStudent : student,\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"container-fluid d-flex flex-row p-0 h-100\">\n                <StudentList students={this.state.allStudents}\n                             activeStudent={this.state.activeStudent}\n                             setActiveStudent={this.setActiveStudent}\n                             toggleAddStudent={this.toggleAddStudent}/>\n                <StudentDetail student={this.state.activeStudent}\n                               onDeleteActiveStudent={this.onDeleteActiveStudent}\n                               refreshStudents={this.refreshStudents}/>\n\n                <StudentFormModal isOpen={this.state.addStudentIsShowing}\n                                  toggle={this.toggleAddStudent}\n                                  refresh={this.refreshStudents}/>\n            </div>\n        );\n    }\n}\n\nexport default Students;"]}