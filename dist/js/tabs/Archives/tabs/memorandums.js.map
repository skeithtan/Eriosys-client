{"version":3,"sources":["../../../../../js/tabs/Archives/tabs/memorandums.js"],"names":["fetchMemorandums","year","onResult","query","then","MemorandumArchives","props","state","activeYear","setCurrentYear","bind","setState","MemorandumArchivesHead","onCurrentYearChange","event","target","value","years","currentYear","i","push","MemorandumArchivesTable"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AAQA,SAASA,gBAAT,CAA0BC,IAA1B,EAAgCC,QAAhC,EAA0C;AACtC,sBAAQC,KAAR,gEAE+CF,IAF/C,8HAWCG,IAXD,CAWMF,QAXN;AAYH;;IAEKG,kB;;;AACF,gCAAYC,KAAZ,EAAmB;AAAA;;AAAA,4IACTA,KADS;;AAGf,cAAKC,KAAL,GAAa;AACTC,wBAAa,wBAASP,IAAT;AADJ,SAAb;;AAIA,cAAKQ,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AAPe;AAQlB;;;;uCAEcT,I,EAAM;AACjB,iBAAKU,QAAL,CAAc;AACVH,4BAAaP;AADH,aAAd;AAGH;;;iCAEQ;AACL,mBACI;AAAA;AAAA;AACI,8CAAC,sBAAD,IAAwB,gBAAgB,KAAKQ,cAA7C;AACwB,gCAAY,KAAKF,KAAL,CAAWC,UAD/C,GADJ;AAGI,8CAAC,uBAAD;AAHJ,aADJ;AAOH;;;;;;IAGCI,sB;;;AACF,oCAAYN,KAAZ,EAAmB;AAAA;;AAAA,qJACTA,KADS;;AAEf,eAAKO,mBAAL,GAA2B,OAAKA,mBAAL,CAAyBH,IAAzB,QAA3B;AAFe;AAGlB;;;;4CAEmBI,K,EAAO;AACvB,iBAAKR,KAAL,CAAWG,cAAX,CAA0BK,MAAMC,MAAN,CAAaC,KAAvC;AACH;;;iCAEQ;AACL,gBAAMC,QAAQ,EAAd;AACA,gBAAMC,cAAc,wBAASjB,IAAT,EAApB;;AAEA;AACA,iBAAK,IAAIkB,IAAI,CAAb,EAAgBA,KAAK,GAArB,EAA0BA,GAA1B,EAA+B;AAC3B,oBAAMlB,OAAOiB,cAAcC,CAA3B;AACAF,sBAAMG,IAAN,CAAW;AAAA;AAAA,sBAAQ,OAAOnB,IAAf;AACQ,6BAAKkB,CADb;AACiBlB;AADjB,iBAAX;AAEH;;AAGD,mBACI;AAAA;AAAA,kBAAK,WAAU,gDAAf;AACI;AAAA;AAAA,sBAAK,WAAU,SAAf;AACI;AAAA;AAAA,0BAAI,WAAU,+DAAd;AAAA;AAAA;AADJ,iBADJ;AAOI;AAAA;AAAA,sBAAK,WAAU,mBAAf;AACI;AAAA;AAAA,0BAAK,WAAU,oCAAf;AACI;AAAA;AAAA,8BAAG,WAAU,MAAb;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA,8BAAO,MAAK,QAAZ;AACO,2CAAU,qBADjB;AAEO,8CAAc,KAAKK,KAAL,CAAWE,UAFhC;AAGO,0CAAU,KAAKK,mBAHtB;AAIKI;AAJL;AAFJ;AADJ;AAPJ,aADJ;AAsBH;;;;;;IAGCI,uB;;;AACF,qCAAYf,KAAZ,EAAmB;AAAA;;AAAA,iJACTA,KADS;AAElB;;;;iCAEQ;AACL,mBACI;AAAA;AAAA;AACI;AAAA;AAAA;AACA;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAGI;AAAA;AAAA;AAAA;AAAA,yBAHJ;AAII;AAAA;AAAA;AAAA;AAAA,yBAJJ;AAKI;AAAA;AAAA;AAAA;AAAA;AALJ;AADA;AADJ,aADJ;AAaH;;;;;;kBAGUD,kB","file":"memorandums.js","sourcesContent":["import React, { Component } from \"react\";\nimport graphql from \"../../../graphql\";\nimport moment from \"moment\";\nimport {\n    FormGroup,\n    Input,\n    Label,\n    Table,\n} from \"reactstrap\";\n\n\nfunction fetchMemorandums(year, onResult) {\n    graphql.query(`\n    {\n        memorandums(archived:true, year_archived:${year}) {\n\t\tid\n\t\tcategory\n\t\tarchived_at\n\t\tarchiver\n\t\tdate_effective\n\t\tinstitution {\n\t\t\tname\n\t\t}\n\t}`).then(onResult);\n}\n\nclass MemorandumArchives extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeYear : moment().year(),\n        };\n\n        this.setCurrentYear = this.setCurrentYear.bind(this);\n    }\n\n    setCurrentYear(year) {\n        this.setState({\n            activeYear : year,\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <MemorandumArchivesHead setCurrentYear={this.setCurrentYear}\n                                        activeYear={this.state.activeYear}/>\n                <MemorandumArchivesTable/>\n            </div>\n        );\n    }\n}\n\nclass MemorandumArchivesHead extends Component {\n    constructor(props) {\n        super(props);\n        this.onCurrentYearChange = this.onCurrentYearChange.bind(this);\n    }\n\n    onCurrentYearChange(event) {\n        this.props.setCurrentYear(event.target.value);\n    }\n\n    render() {\n        const years = [];\n        const currentYear = moment().year();\n\n        //Create options for years 100 years from current year\n        for (let i = 0; i <= 100; i++) {\n            const year = currentYear - i;\n            years.push(<option value={year}\n                               key={i}>{year}</option>);\n        }\n\n\n        return (\n            <div className=\"page-head pt-5 d-flex flex-row align-items-end\">\n                <div className=\"mr-auto\">\n                    <h4 className=\"page-head-title justify-content-left d-inline-block mb-0 mr-2\">\n                        Memorandum Archives\n                    </h4>\n                </div>\n\n                <div className=\"page-head-actions\">\n                    <div className=\"d-flex flex-row align-items-center\">\n                        <b className=\"mr-3\">Year</b>\n                        <Input type=\"select\"\n                               className=\"btn-outline-success\"\n                               defaultValue={this.props.activeYear}\n                               onChange={this.onCurrentYearChange}>\n                            {years}\n                        </Input>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nclass MemorandumArchivesTable extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <Table>\n                <thead>\n                <tr>\n                    <th>Institution Name</th>\n                    <th>Memorandum Type</th>\n                    <th>Date Effective</th>\n                    <th>Archive Date</th>\n                    <th>Archived By</th>\n                </tr>\n                </thead>\n            </Table>\n        );\n    }\n}\n\nexport default MemorandumArchives;"]}