{"version":3,"sources":["../../../../../js/tabs/Archives/tabs/sidebar_panes.js"],"names":["studentIsFetched","student","home_address","undefined","StudentSidebarPane","props","state","restoreStudentIsShowing","id","setState","result","toggleRestoreStudent","bind","fullName","first_name","middle_name","family_name","isFetched","pageBody"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AAEA;;AAOA;;;;;;;;;;AAOA,SAASA,gBAAT,CAA0BC,OAA1B,EAAmC;AAC/B,WAAOA,QAAQC,YAAR,KAAyBC,SAAhC;AACH;;IAEKC,kB;;;AACF,gCAAYC,KAAZ,EAAmB;AAAA;;AAAA,4IACTA,KADS;;AAGf,cAAKC,KAAL,GAAa;AACTC,qCAA0B,KADjB;AAETN,qBAAUI,MAAMJ;AAFP,SAAb;;AAKA,YAAI,CAACD,iBAAiBK,MAAMJ,OAAvB,CAAL,EAAsC;AAClC,wCAAaI,MAAMJ,OAAN,CAAcO,EAA3B,EAA+B,kBAAU;AACrC,sBAAKC,QAAL,CAAc;AACVR,6BAAUS,OAAOT;AADP,iBAAd;AAGH,aAJD;AAKH;;AAED,cAAKU,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,OAA5B;AAhBe;AAiBlB;;;;+CAEsB;AACnB,iBAAKH,QAAL,CAAc;AACVF,yCAA0B,CAAC,KAAKD,KAAL,CAAWC;AAD5B,aAAd;AAGH;;;kDAEyBF,K,EAAO;AAAA;;AAC7B,iBAAKI,QAAL,CAAc;AACVR,yBAAUI,MAAMJ;AADN,aAAd;;AAIA,gBAAI,CAACD,iBAAiBK,MAAMJ,OAAvB,CAAL,EAAsC;AAClC,4CAAaI,MAAMJ,OAAN,CAAcO,EAA3B,EAA+B,kBAAU;AACrC,2BAAKC,QAAL,CAAc;AACVR,iCAAUS,OAAOT;AADP,qBAAd;AAGH,iBAJD;AAKH;AACJ;;;iCAEQ;AACL,gBAAMA,UAAU,KAAKK,KAAL,CAAWL,OAA3B;AACA,gBAAMY,WAAcZ,QAAQa,UAAtB,SAAoCb,QAAQc,WAA5C,SAA2Dd,QAAQe,WAAzE;AACA,gBAAMC,YAAYjB,iBAAiBC,OAAjB,CAAlB;;AAEA,gBAAIiB,iBAAJ;;AAEA,gBAAID,SAAJ,EAAe;AACXC,2BACI;AAAA;AAAA,sBAAK,WAAU,WAAf;AACI,8EAAgB,aAAhB;AACgB,iCAASjB,OADzB,GADJ;AAGI,8EAAgB,aAAhB;AACgB,iCAASA,OADzB,GAHJ;AAKI,iFAAmB,aAAnB;AACmB,iCAASA,OAD5B;AALJ,iBADJ;AAUH,aAXD,MAWO;AACHiB,2BAAW,sDAAX;AACH;;AAED,mBACI;AAAA;AAAA,kBAAK,WAAU,8BAAf;AACI;AAAA;AAAA,sBAAK,WAAU,gDAAf;AACI;AAAA;AAAA,0BAAK,WAAU,SAAf;AACI;AAAA;AAAA,8BAAI,WAAU,MAAd;AAAsBL;AAAtB;AADJ;AADJ,iBADJ;AAOKK;AAPL,aADJ;AAWH;;;;;;QAIId,kB,GAAAA,kB","file":"sidebar_panes.js","sourcesContent":["import React, { Component } from \"react\";\nimport LoadingSpinner from \"../../../components/loading\";\n\nimport {\n    ContactDetails,\n    fetchStudent,\n    StudentDetails,\n    UniversityDetails,\n} from \"../../Students/tabs/overview\";\n\nimport {\n    StudentContact,\n    StudentDetailOverview,\n    StudentUniversity,\n} from \"../../Students/student_detail_overview\";\n\n\nfunction studentIsFetched(student) {\n    return student.home_address !== undefined;\n}\n\nclass StudentSidebarPane extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            restoreStudentIsShowing : false,\n            student : props.student,\n        };\n\n        if (!studentIsFetched(props.student)) {\n            fetchStudent(props.student.id, result => {\n                this.setState({\n                    student : result.student,\n                });\n            });\n        }\n\n        this.toggleRestoreStudent = this.toggleRestoreStudent.bind(this);\n    }\n\n    toggleRestoreStudent() {\n        this.setState({\n            restoreStudentIsShowing : !this.state.restoreStudentIsShowing,\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        this.setState({\n            student : props.student,\n        });\n\n        if (!studentIsFetched(props.student)) {\n            fetchStudent(props.student.id, result => {\n                this.setState({\n                    student : result.student,\n                });\n            });\n        }\n    }\n\n    render() {\n        const student = this.state.student;\n        const fullName = `${student.first_name} ${student.middle_name} ${student.family_name}`;\n        const isFetched = studentIsFetched(student);\n\n        let pageBody;\n\n        if (isFetched) {\n            pageBody = (\n                <div className=\"page-body\">\n                    <StudentDetails sidebar\n                                    student={student}/>\n                    <ContactDetails sidebar\n                                    student={student}/>\n                    <UniversityDetails sidebar\n                                       student={student}/>\n                </div>\n            );\n        } else {\n            pageBody = <LoadingSpinner/>;\n        }\n\n        return (\n            <div className=\"p-0 h-100 d-flex flex-column\">\n                <div className=\"page-head pt-5 d-flex flex-row align-items-end\">\n                    <div className=\"mr-auto\">\n                        <h5 className=\"mb-0\">{fullName}</h5>\n                    </div>\n                </div>\n\n                {pageBody}\n            </div>\n        );\n    }\n}\n\n\nexport { StudentSidebarPane };"]}