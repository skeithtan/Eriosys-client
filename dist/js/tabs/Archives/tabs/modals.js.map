{"version":3,"sources":["../../../../../js/tabs/Archives/tabs/modals.js"],"names":["RestoreMemorandumModal","props","confirmRestore","bind","toggle","dismissToast","title","message","ajax","url","serverURL","memorandum","id","method","beforeSend","done","iziToast","success","onRestoreSuccess","fail","console","log","response","error","isOpen","RestoreModal","children"],"mappings":";;;;;;;;;AAAA;;;;AACA;;AAMA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAGMA,sB;;;AACF,oCAAYC,KAAZ,EAAmB;AAAA;;AAAA,oJACTA,KADS;;AAEf,cAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AAFe;AAGlB;;;;yCAEgB;AAAA;;AACb,iBAAKF,KAAL,CAAWG,MAAX;AACA,gBAAMC,eAAe,4CAAc;AAC/BC,uBAAQ,WADuB;AAE/BC,yBAAU;AAFqB,aAAd,CAArB;;AAKA,6BAAEC,IAAF,CAAO;AACHC,qBAAS,mBAASC,SAAlB,8BAAoD,KAAKT,KAAL,CAAWU,UAAX,CAAsBC,EAA1E,cADG;AAEHC,wBAAS,KAFN;AAGHC;AAHG,aAAP,EAIGC,IAJH,CAIQ,YAAM;;AAEVV;AACAW,yBAASC,OAAT,CAAiB;AACbX,2BAAQ,SADK;AAEbC,6BAAU;AAFG,iBAAjB;AAIA,uBAAKN,KAAL,CAAWiB,gBAAX;AAEH,aAbD,EAaGC,IAbH,CAaQ,oBAAY;;AAEhBd;AACAe,wBAAQC,GAAR,CAAYC,QAAZ;AACAN,yBAASO,KAAT,CAAe;AACXjB,2BAAQ,OADG;AAEXC,6BAAU;AAFC,iBAAf;AAKH,aAtBD;AAwBH;;;iCAEQ;AACL,mBACI;AAAC,4BAAD;AAAA,kBAAc,gBAAgB,KAAKL,cAAnC;AACc,4BAAQ,KAAKD,KAAL,CAAWuB,MADjC;AAEc,4BAAQ,KAAKvB,KAAL,CAAWG,MAFjC;AAGI;AAAA;AAAA,sBAAa,WAAU,cAAvB;AAAA;AAAA;AAHJ,aADJ;AASH;;;;;;IAGCqB,Y;;;AACF,0BAAYxB,KAAZ,EAAmB;AAAA;;AAAA,2HACTA,KADS;AAElB;;;;iCAEQ;AACL,mBACI;AAAA;AAAA,kBAAO,QAAQ,KAAKA,KAAL,CAAWuB,MAA1B;AACO,4BAAQ,KAAKvB,KAAL,CAAWG,MAD1B;AAEO,8BAAU,IAFjB;AAGK,qBAAKH,KAAL,CAAWyB,QAHhB;AAII;AAAA;AAAA;AACI;AAAA;AAAA,0BAAQ,aAAR;AACQ,mCAAM,SADd;AAEQ,qCAAS,KAAKzB,KAAL,CAAWC,cAF5B;AAAA;AAAA;AADJ;AAJJ,aADJ;AAcH;;;;;;QAIDF,sB,GAAAA,sB","file":"modals.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    Button,\n    Modal,\n    ModalFooter,\n    ModalHeader,\n} from \"reactstrap\";\nimport $ from \"jquery\";\nimport authorizeXHR from \"../../../authorization\";\nimport {makeInfoToast} from \"../../../dismissable_toast_maker\";\nimport settings from \"../../../settings\";\n\n\nclass RestoreMemorandumModal extends Component {\n    constructor(props) {\n        super(props);\n        this.confirmRestore = this.confirmRestore.bind(this);\n    }\n\n    confirmRestore() {\n        this.props.toggle();\n        const dismissToast = makeInfoToast({\n            title : \"Restoring\",\n            message : \"Restoring memorandum...\",\n        });\n\n        $.ajax({\n            url : `${settings.serverURL}/archives/memorandums/${this.props.memorandum.id}/restore/`,\n            method : \"PUT\",\n            beforeSend : authorizeXHR,\n        }).done(() => {\n\n            dismissToast();\n            iziToast.success({\n                title : \"Success\",\n                message : \"Successfully restored memorandum\",\n            });\n            this.props.onRestoreSuccess();\n\n        }).fail(response => {\n\n            dismissToast();\n            console.log(response);\n            iziToast.error({\n                title : \"Error\",\n                message : \"Unable to restore memorandum\",\n            });\n\n        });\n\n    }\n\n    render() {\n        return (\n            <RestoreModal confirmRestore={this.confirmRestore}\n                          isOpen={this.props.isOpen}\n                          toggle={this.props.toggle}>\n                <ModalHeader className=\"text-primary\">\n                    Would you like to restore this memorandum?\n                </ModalHeader>\n            </RestoreModal>\n        );\n    }\n}\n\nclass RestoreModal extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <Modal isOpen={this.props.isOpen}\n                   toggle={this.props.toggle}\n                   backdrop={true}>\n                {this.props.children}\n                <ModalFooter>\n                    <Button outline\n                            color=\"primary\"\n                            onClick={this.props.confirmRestore}>\n                        Restore\n                    </Button>\n                </ModalFooter>\n            </Modal>\n        );\n    }\n}\n\nexport {\n    RestoreMemorandumModal,\n};"]}