{"version":3,"sources":["../../../../../js/tabs/StudentApplications/tabs/modals.js"],"names":["DeployApplicantModal","props","state","form","default_units","total_units_enrolled","getFormErrors","bind","fieldName","value","event","target","setState","isValidIntegerValidator","isValid","isNaN","parseInt","text","errorMessage","fieldValue","isPositiveIntegerValidator","name","characterLimit","customValidators","formHasErrors","fieldErrors","length","fieldError","isOpen","toggle","getChangeHandler"],"mappings":"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","file":"modals.js","sourcesContent":["import React, { Component } from \"react\";\nimport validateForm from \"../../../form_validator\";\nimport {\n    Button,\n    Form,\n    FormFeedback,\n    FormGroup,\n    Input,\n    Label,\n    Modal,\n    ModalBody,\n    ModalFooter,\n    ModalHeader,\n} from \"reactstrap\";\n\n\nclass DeployApplicantModal extends Component {\n    constructor(props) {\n        super(props);\n\n\n        this.state = {\n            form : {\n                default_units : \"\",\n                total_units_enrolled : \"\",\n            },\n        };\n\n        this.getFormErrors = this.getFormErrors.bind(this);\n    }\n\n    getChangeHandler(fieldName) {\n        const form = this.state.form;\n\n        return event => {\n            const value = event.target.value;\n\n            form[fieldName] = value;\n            this.setState({\n                form : form,\n            });\n        };\n    }\n\n    getFormErrors() {\n        const isValidIntegerValidator = {\n            isValid : fieldValue => !isNaN(parseInt(text)),\n            errorMessage : fieldValue => `${fieldValue} must be a valid integer`,\n        };\n\n        const isPositiveIntegerValidator = {\n            isValid : fieldValue => parseInt(text) > 0,\n            errorMessage : fieldValue => `${fieldValue} must be greater than 0.`,\n        };\n\n        return validateForm([\n            {\n                name : \"Default units\",\n                characterLimit : null,\n                value : this.state.form.default_units,\n                customValidators : [isValidIntegerValidator, isPositiveIntegerValidator],\n            },\n            {\n                name : \"Total units enrolled\",\n                characterLimit : null,\n                value : this.state.form.total_units_enrolled,\n                customValidators : [isValidIntegerValidator, isPositiveIntegerValidator],\n            },\n        ]);\n    }\n\n    render() {\n\n        const { formHasErrors, fieldErrors } = this.getFormErrors();\n\n        function isValid(fieldName) {\n            return fieldErrors[fieldName].length === 0;\n        }\n\n        function fieldError(fieldName) {\n            return fieldErrors[fieldName][0];\n        }\n\n        return (\n            <Modal isOpen={this.props.isOpen}\n                   toggle={this.props.toggle}\n                   backdrop={true}>\n                <ModalHeader toggle={this.props.toggle}>\n                    Deploy Student\n                </ModalHeader>\n                <ModalBody className=\"form\">\n                    <Form>\n                        <FormGroup>\n                            <Label>Default Units</Label>\n                            <Input placeholder=\"Default Units\"\n                                   onChange={this.getChangeHandler(\"default_units\")}\n                                   valid={isValid(\"Default units\")}\n                                   value={this.state.form.default_units}/>\n                            <FormFeedback>{fieldError(\"Default units\")}</FormFeedback>\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label>Total Units Enrolled</Label>\n                            <Input placeholder=\"Total Units Enrolled\"\n                                   onChange={this.getChangeHandler(\"total_units_enrolled\")}\n                                   valid={isValid(\"Total units enrolled\")}\n                                   value={this.state.form.total_units_enrolled}/>\n                            <FormFeedback>{fieldError(\"Total units enrolled\")}</FormFeedback>\n                        </FormGroup>\n                    </Form>\n                </ModalBody>\n                <ModalFooter>\n                    <Button outline\n                            color=\"success\"\n                            disabled={formHasErrors}/>\n                </ModalFooter>\n\n            </Modal>\n        );\n    }\n}"]}