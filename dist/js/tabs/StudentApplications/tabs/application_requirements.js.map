{"version":3,"sources":["../../../../../js/tabs/StudentApplications/tabs/application_requirements.js"],"names":["makeRequirementsQuery","isInbound","query","makeInboundApplicationQuery","id","makeOutboundApplicationQuery","ApplicationRequirements","props","state","applicantRequirements","requirements","isRequirementsComplete","studentProgramId","errors","deployApplicantIsShowing","acceptApplicantIsShowing","fetchRequirements","bind","refreshRequirements","toggleDeployApplicant","toggleAcceptApplicant","inbound","student","studentId","error","setState","then","result","inbound_requirements","outbound_requirements","catch","inboundstudentprogram","application_requirements","map","requirement","is_requirements_complete","outboundstudentprogram","toString","refreshStudents","ApplicationHead","first_name","middle_name","family_name","id_number","localStorage","userType","toggleModal","RequirementsBody","rows","includes","RequirementRow","markAsDone","markAsUndone","concat","$","ajax","method","url","serverURL","beforeSend","data","JSON","stringify","contentType","done","filter","name"],"mappings":"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","file":"application_requirements.js","sourcesContent":["import React, { Component } from \"react\";\nimport graphql from \"../../../graphql\";\nimport ErrorState from \"../../../components/error_state\";\nimport LoadingSpinner from \"../../../components/loading\";\nimport {\n    SectionRow,\n    SectionTable,\n} from \"../../../components/section\";\nimport { Button } from \"reactstrap\";\nimport settings from \"../../../settings\";\nimport authorizeXHR from \"../../../authorization\";\nimport {\n    AcceptApplicantModal,\n    DeployApplicantModal,\n} from \"./modals\";\n\n\nfunction makeRequirementsQuery(isInbound) {\n    return graphql.query(`\n    {\n        ${isInbound ? \"inbound_requirements\" : \"outbound_requirements\"} {\n            id\n            name\n        }\n    }\n    `);\n}\n\nfunction makeInboundApplicationQuery(id) {\n    return graphql.query(`\n    {\n      student(id:${id}) {\n                inboundstudentprogram {\n                    id\n                    is_requirements_complete\n                    application_requirements {\n                        id\n                    }\n                }\n        }\n    }\n    `);\n}\n\nfunction makeOutboundApplicationQuery(id) {\n    return graphql.query(`\n    {\n      student(id:${id}) {\n                outboundstudentprogram {\n                    id\n                    is_requirements_complete\n                    application_requirements {\n                        id\n                    }\n                }\n        }\n    }\n    `);\n}\n\nclass ApplicationRequirements extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            applicantRequirements : null,\n            requirements : null,\n            isRequirementsComplete : false,\n            studentProgramId : null,\n            errors : null,\n            deployApplicantIsShowing : false,\n            acceptApplicantIsShowing : false,\n        };\n\n        this.fetchRequirements = this.fetchRequirements.bind(this);\n        this.refreshRequirements = this.refreshRequirements.bind(this);\n        this.toggleDeployApplicant = this.toggleDeployApplicant.bind(this);\n        this.toggleAcceptApplicant = this.toggleAcceptApplicant.bind(this);\n\n        this.fetchRequirements(props.inbound, props.student.id);\n    }\n\n    fetchRequirements(inbound, studentId) {\n        if (this.state.error) {\n            this.setState({\n                error : null,\n            });\n        }\n\n        makeRequirementsQuery(inbound)\n            .then(result => this.setState({\n                requirements : inbound ? result.inbound_requirements : result.outbound_requirements,\n            }))\n            .catch(error => this.setState({\n                error : error,\n            }));\n\n        if (inbound) {\n            makeInboundApplicationQuery(studentId)\n                .then(result => this.setState({\n                    applicantRequirements : result.student.inboundstudentprogram.application_requirements.map(requirement => requirement.id),\n                    isRequirementsComplete : result.student.inboundstudentprogram.is_requirements_complete,\n                    studentProgramId : result.student.inboundstudentprogram.id,\n                }))\n                .catch(error => this.setState({\n                    error : error,\n                }));\n        } else {\n            makeOutboundApplicationQuery(studentId)\n                .then(result => this.setState({\n                    applicantRequirements : result.student.outboundstudentprogram.application_requirements.map(requirement => requirement.id),\n                    isRequirementsComplete : result.student.outboundstudentprogram.is_requirements_complete,\n                    studentProgramId : result.student.outboundstudentprogram.id,\n                }))\n                .catch(error => this.setState({\n                    error : error,\n                }));\n        }\n    }\n\n    refreshRequirements() {\n        // console.log(this.props);\n        // this.fetchRequirements(this.props.inbound, this.props.student.id);\n        //\n        this.setState({\n            requirements : null,\n            applicantRequirements : null,\n        });\n    }\n\n    toggleDeployApplicant() {\n        this.setState({\n            deployApplicantIsShowing : !this.state.deployApplicantIsShowing,\n        });\n    }\n\n    toggleAcceptApplicant() {\n        this.setState({\n            acceptApplicantIsShowing : !this.state.acceptApplicantIsShowing,\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        this.setState({\n            applicantRequirements : null,\n        });\n\n        this.fetchRequirements(props.inbound, props.student.id);\n    }\n\n    render() {\n        if (this.state.error) {\n            return (\n                <ErrorState\n                    onRetryButtonClick={ () => this.fetchRequirements(this.props.inbound, this.props.student.id) }>\n                    { this.state.error.toString() }\n                </ErrorState>\n            );\n        }\n\n        if (this.state.applicantRequirements === null || this.state.requirements === null) {\n            return <LoadingSpinner/>;\n        }\n\n        return (\n            <div className=\"d-flex flex-column p-0 h-100\">\n                <ApplicationHead student={ this.props.student }\n                                 inbound={ this.props.inbound }\n                                 toggleModal={ this.props.inbound ? this.toggleAcceptApplicant : this.toggleDeployApplicant }\n                                 isRequirementsComplete={ this.state.isRequirementsComplete }/>\n                <RequirementsBody requirements={ this.state.requirements }\n                                  student={ this.props.student }\n                                  inbound={ this.props.inbound }\n                                  refreshRequirements={ () => this.fetchRequirements(this.props.inbound, this.props.student.id) }\n                                  studentProgramId={ this.state.studentProgramId }\n                                  applicantRequirements={ this.state.applicantRequirements }/>\n\n                { !this.props.inbound && this.state.isRequirementsComplete &&\n                <DeployApplicantModal isOpen={ this.state.deployApplicantIsShowing }\n                                      student={ this.props.student }\n                                      refreshStudents={ this.props.refreshStudents }\n                                      toggle={ this.toggleDeployApplicant }/>\n                }\n\n                { this.props.inbound && this.state.isRequirementsComplete &&\n                <AcceptApplicantModal isOpen={ this.state.acceptApplicantIsShowing }\n                                      student={ this.props.student }\n                                      refreshStudents={ this.props.refreshStudents }\n                                      toggle={ this.toggleAcceptApplicant }/>\n                }\n\n            </div>\n        );\n    }\n}\n\nclass ApplicationHead extends Component {\n    render() {\n        return (\n            <div className=\"page-head pt-5 d-flex flex-row align-items-center\">\n                <div className=\"mr-auto\">\n                    <h5 className=\"mb-0 text-secondary\">Application Requirements</h5>\n                    <h4 className=\"page-head-title justify-content-left d-inline-block mb-0 mr-2\">\n                        { this.props.student.first_name } { this.props.student.middle_name } { this.props.student.family_name }\n                        <small className=\"text-muted ml-2\">{ this.props.student.id_number }</small>\n                    </h4>\n                </div>\n\n                { this.props.isRequirementsComplete && localStorage.userType !== \"administrative_assistant\" &&\n                <Button outline\n                        size=\"sm\"\n                        className=\"mr-2\"\n                        onClick={ this.props.toggleModal }\n                        color=\"success\">\n                    { this.props.inbound ? \"Accept \" : \"Deploy \" } Student\n                </Button>\n                }\n\n                { localStorage.userType !== \"administrative_assistant\" && <Button outline\n                                                                                  size=\"sm\"\n                                                                                  color=\"danger\">Cancel\n                    Application</Button> }\n\n            </div>\n        );\n    }\n}\n\nclass RequirementsBody extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const rows = this.props.requirements.map(requirement =>\n            <RequirementRow key={ requirement.id }\n                            applicantRequirements={ this.props.applicantRequirements }\n                            student={ this.props.student }\n                            inbound={ this.props.inbound }\n                            refreshRequirements={ this.props.refreshRequirements }\n                            studentProgramId={ this.props.studentProgramId }\n                            done={ this.props.applicantRequirements.includes(requirement.id) }\n                            requirement={ requirement }/>,\n        );\n\n        return (\n            <SectionTable>\n                { rows }\n            </SectionTable>\n        );\n    }\n}\n\nclass RequirementRow extends Component {\n    constructor(props) {\n        super(props);\n\n        this.markAsDone = this.markAsDone.bind(this);\n        this.markAsUndone = this.markAsUndone.bind(this);\n    }\n\n\n    markAsDone() {\n        const requirements = this.props.applicantRequirements.concat([this.props.requirement.id]);\n\n        $.ajax({\n            method : \"PUT\",\n            url : `${settings.serverURL}/programs/${this.props.inbound ? \"inbound\" : \"outbound\"}/students/${this.props.studentProgramId}/`,\n            beforeSend : authorizeXHR,\n            data : JSON.stringify({\n                application_requirements : requirements,\n            }),\n            contentType : \"application/json\",\n        })\n            .done(() => {\n                this.props.refreshRequirements();\n            });\n    }\n\n    markAsUndone() {\n        $.ajax({\n            method : \"PUT\",\n            url : `${settings.serverURL}/programs/${this.props.inbound ? \"inbound\" : \"outbound\"}/students/${this.props.studentProgramId}/`,\n            beforeSend : authorizeXHR,\n            data : JSON.stringify({\n                application_requirements : this.props.applicantRequirements.filter(requirement => requirement !== this.props.requirement.id),\n            }),\n            contentType : \"application/json\",\n        })\n            .done(() => {\n                this.props.refreshRequirements();\n            });\n    }\n\n\n    render() {\n        return (\n            <SectionRow large\n                        className=\"d-flex flex-row align-items-center\">\n\n                { this.props.done &&\n                <b className=\"text-success mr-3\">✓</b>\n                }\n\n                <p className=\"lead mr-auto mb-0\">{ this.props.requirement.name }</p>\n\n                { this.props.done && localStorage.userType !== \"administrative_assistant\" &&\n                <Button outline\n                        size=\"sm\"\n                        onClick={ this.markAsUndone }\n                        color=\"warning\">Mark as undone</Button>\n                }\n\n                { !this.props.done && localStorage.userType !== \"administrative_assistant\" &&\n                <Button outline\n                        size=\"sm\"\n                        onClick={ this.markAsDone }\n                        color=\"success\">Mark as done</Button>\n                }\n            </SectionRow>\n        );\n    }\n}\n\nexport default ApplicationRequirements;"]}