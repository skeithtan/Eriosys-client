{"version":3,"sources":["../../js/index.js"],"names":["isLoggedIn","localStorage","token","undefined","render","document","getElementById","remove","signInMessage","hide","click","username","val","password","post","url","serverURL","data","success","response","onSignIn","error","statusCode","text","show","renderReact","signInView","fadeOut"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,sBAAE,YAAM;AACJ,QAAMA,aAAaC,aAAaC,KAAb,KAAuBC,SAA1C;AACA,QAAIH,UAAJ,EAAgB;AACZ,2BAASI,MAAT,CAAgB,kDAAhB,EAAwBC,SAASC,cAAT,CAAwB,MAAxB,CAAxB;AACA,8BAAE,UAAF,EAAcC,MAAd;AACH;;AAED,QAAMC,gBAAgB,sBAAE,kBAAF,CAAtB;AACAA,kBAAcC,IAAd;;AAEA,0BAAE,iBAAF,EAAqBC,KAArB,CAA2B,YAAM;AAC7B,YAAMC,WAAW,sBAAE,iBAAF,EAAqBC,GAArB,EAAjB;AACA,YAAMC,WAAW,sBAAE,iBAAF,EAAqBD,GAArB,EAAjB;;AAEA,yBAAEE,IAAF,CAAO;AACHC,iBAAS,mBAASC,SAAlB,cADG;AAEHC,kBAAO;AACHN,0BAAWA,QADR;AAEHE,0BAAWA;AAFR,aAFJ;AAMHK,qBAAU,2BAAY;AAClBjB,6BAAaC,KAAb,GAAqBiB,SAASjB,KAA9B;AACAkB;AACH,aATE;AAUHC,mBAAQ,yBAAY;AAChB,wBAAOF,SAASG,UAAhB;AACI,yBAAK,GAAL;AACId,sCAAce,IAAd,GAAqB,qBAArB;AACAf,sCAAcgB,IAAd;AACA;AACJ;AACIhB,sCAAce,IAAd,GAAqB,iCAArB;AACAf,sCAAcgB,IAAd;AACA;AARR;AAUH;AArBE,SAAP;AAuBH,KA3BD;;AA8BA,aAASJ,QAAT,GAAoB;AAChBK;AACA,YAAMC,aAAa,sBAAE,UAAF,CAAnB;AACAA,mBAAWC,OAAX,CAAmB,GAAnB,EAAwB;AAAA,mBAAMD,WAAWnB,MAAX,EAAN;AAAA,SAAxB;AACH;;AAED,aAASkB,WAAT,GAAuB;AACnB,2BAASrB,MAAT,CAAgB,kDAAhB,EAAwBC,SAASC,cAAT,CAAwB,MAAxB,CAAxB;AACH;AAGJ,CAnDD","file":"index.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport $ from \"jquery\";\nimport settings from \"./settings\";\n\n\n$(() => {\n    const isLoggedIn = localStorage.token !== undefined;\n    if (isLoggedIn) {\n        ReactDOM.render(<App/>, document.getElementById(\"root\"));\n        $(\"#sign-in\").remove();\n    }\n\n    const signInMessage = $(\"#sign-in-message\");\n    signInMessage.hide();\n\n    $(\"#sign-in-button\").click(() => {\n        const username = $(\"#username-input\").val();\n        const password = $(\"#password-input\").val();\n\n        $.post({\n            url : `${settings.serverURL}/sign-in/`,\n            data : {\n                username : username,\n                password : password,\n            },\n            success : response => {\n                localStorage.token = response.token;\n                onSignIn();\n            },\n            error : response => {\n                switch(response.statusCode) {\n                    case 401:\n                        signInMessage.text = \"Invalid credentials\";\n                        signInMessage.show();\n                        return;\n                    default:\n                        signInMessage.text = \"Could not connect to the server\";\n                        signInMessage.show();\n                        return;\n                }\n            },\n        });\n    });\n\n\n    function onSignIn() {\n        renderReact();\n        const signInView = $(\"#sign-in\");\n        signInView.fadeOut(500, () => signInView.remove());\n    }\n\n    function renderReact() {\n        ReactDOM.render(<App/>, document.getElementById(\"root\"));\n    }\n\n\n});"]}